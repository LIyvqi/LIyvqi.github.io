<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>2022å±Šçš„å­¦é•¿å­¦å§æ¯•ä¸šå¿«ä¹-ä¿ºç ”ä¸€</title>
      <link href="/2022/06/19/2022%E5%B1%8A%E7%9A%84%E5%AD%A6%E9%95%BF%E5%AD%A6%E5%A7%90%E6%AF%95%E4%B8%9A%E5%BF%AB%E4%B9%90-%E4%BF%BA%E7%A0%94%E4%B8%80/"/>
      <url>/2022/06/19/2022%E5%B1%8A%E7%9A%84%E5%AD%A6%E9%95%BF%E5%AD%A6%E5%A7%90%E6%AF%95%E4%B8%9A%E5%BF%AB%E4%B9%90-%E4%BF%BA%E7%A0%94%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<p>â€‹æˆ‘æ‰ä¸Šç ”ä¸€ï¼Œå±…ç„¶ç»å†äº†ä¸¤æ¬¡æ¯•ä¸šäº†ï¼Œæ¯æ¬¡æ¯•ä¸šå‰åœ¨å·¥ä½œä¸Šæ€»ä¼šé‚£ä¹ˆå°å°çš„æ‘†çƒ‚å‡ å¤©å¥½å¥½ï¼Œæ„Ÿè°¢å®éªŒå®¤çš„å­¦é•¿å­¦å§ä»¬å¯¹æˆ‘è¿™ä¸ªåºŸç‰©ç å†œçš„å¸®åŠ©ï¼æ–°å† ä¸‰å¹´ï¼Œæ²¡æœ‰å‡‘å‡ºä¸€å¼ å®Œæ•´çš„å¤§åˆç…§ï¼Œå”‰ï¼Œ** çš„æ–°å† ç—…æ¯’ï¼Œé€€é€€é€€ï¼ï¼</p><blockquote><p>ä¹¦ä¸Šè¯´ï¼Œå¤©ä¸‹æ²¡æœ‰ä¸æ•£çš„å®´å¸­ï¼›ä¸è¦æ€•ï¼Œä¹¦ä¸Šè¿˜è¯´ï¼Œäººç”Ÿä½•å¤„ä¸ç›¸é€¢ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206192200352.png" alt="éƒ­æŸ">  </p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206192150070.png" alt="é¡¿æŸ">  </p>]]></content>
      
      
      <categories>
          
          <category> Love </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯•ä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦(6)-å·ç§¯ç¥ç»ç½‘ç»œ</title>
      <link href="/2022/06/19/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-6-%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
      <url>/2022/06/19/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-6-%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œ"></a>å·ç§¯ç¥ç»ç½‘ç»œ</h2><p>æœ¬èŠ‚ä»‹ç»æ„æˆæ‰€æœ‰å·ç§¯ç½‘ç»œä¸»å¹²çš„åŸºæœ¬å…ƒç´ ã€‚ è¿™åŒ…æ‹¬å·ç§¯å±‚æœ¬èº«ã€å¡«å……ï¼ˆpaddingï¼‰å’Œæ­¥å¹…ï¼ˆstrideï¼‰çš„åŸºæœ¬ç»†èŠ‚ã€ç”¨äºåœ¨ç›¸é‚»åŒºåŸŸæ±‡èšä¿¡æ¯çš„æ±‡èšå±‚ï¼ˆpoolingï¼‰ã€åœ¨æ¯ä¸€å±‚ä¸­å¤šé€šé“ï¼ˆchannelï¼‰çš„ä½¿ç”¨ï¼Œä»¥åŠæœ‰å…³ç°ä»£å·ç§¯ç½‘ç»œæ¶æ„çš„ä»”ç»†è®¨è®ºã€‚</p><p><a href="https://zh.d2l.ai/chapter_convolutional-neural-networks/index.html">https://zh.d2l.ai/chapter_convolutional-neural-networks/index.html</a></p><h3 id="5-1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç "><a href="#5-1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç " class="headerlink" title="5.1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç "></a>5.1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç </h3><p>è¦å­¦ä¼šè°ƒç”¨å·ç§¯å±‚å’Œæ± åŒ–å±‚ï¼Œä¹Ÿè¦è‡ªå·±ä¼šå†™å·ç§¯å±‚å’Œæ± åŒ–å±‚ã€‚</p><pre><code class="python">nn.Conv2d()in_channelsï¼šè¾“å…¥çš„é€šé“æ•°ç›® ã€å¿…é€‰ã€‘out_channelsï¼š è¾“å‡ºçš„é€šé“æ•°ç›® ã€å¿…é€‰ã€‘kernel_sizeï¼šå·ç§¯æ ¸çš„å¤§å°ï¼Œç±»å‹ä¸ºint æˆ–è€…å…ƒç»„ï¼Œå½“å·ç§¯æ˜¯æ–¹å½¢çš„æ—¶å€™ï¼Œåªéœ€è¦ä¸€ä¸ªæ•´æ•°è¾¹é•¿å³å¯ï¼Œå·ç§¯ä¸æ˜¯æ–¹å½¢ï¼Œè¦è¾“å…¥ä¸€ä¸ªå…ƒç»„è¡¨ç¤º é«˜å’Œå®½ã€‚ã€å¿…é€‰ã€‘strideï¼š å·ç§¯æ¯æ¬¡æ»‘åŠ¨çš„æ­¥é•¿ä¸ºå¤šå°‘ï¼Œé»˜è®¤æ˜¯ 1 ã€å¯é€‰ã€‘paddingï¼š è®¾ç½®åœ¨æ‰€æœ‰è¾¹ç•Œå¢åŠ  å€¼ä¸º 0 çš„è¾¹è·çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯åœ¨feature map å¤–å›´å¢åŠ å‡ åœˆ 0 ï¼‰ï¼Œä¾‹å¦‚å½“ padding =1 çš„æ—¶å€™ï¼Œå¦‚æœåŸæ¥å¤§å°ä¸º 3 Ã— 3 ï¼Œé‚£ä¹ˆä¹‹åçš„å¤§å°ä¸º 5 Ã— 5 ã€‚å³åœ¨å¤–å›´åŠ äº†ä¸€åœˆ 0 ã€‚ã€å¯é€‰ã€‘å‚æ•°çš„è¯¦è§£å‡ºè‡ªï¼šhttps://blog.csdn.net/qq_38863413/article/details/104108808conv2d = nn.Conv2d(1, 1, kernel_size=(5, 3), padding=(2, 1))comp_conv2d(conv2d, X).shapeconv2d = nn.Conv2d(1, 1, kernel_size=(3, 5), padding=(0, 1), stride=(3, 4))comp_conv2d(conv2d, X).shape# ä¸å…‰å¡«å……å¯ä»¥é«˜åº¦å’Œå®½åº¦ä¸ä¸€æ ·ï¼Œæ­¥å¹…ä¹Ÿå¯ä»¥é«˜åº¦å’Œå®½åº¦ä¸ä¸€æ ·# å…ƒç»„é‡Œé¢å…ˆé«˜åº¦åå®½åº¦torch.nn.MaxPool2d(kernel_size, stride=None, padding=0, dilation=1, return_indices=False, ceil_mode=False)kernel_size(int or tuple) ï¼šmax poolingçš„çª—å£å¤§å°stride(int or tuple, optional)ï¼šmax poolingçš„çª—å£ç§»åŠ¨çš„æ­¥é•¿ã€‚é»˜è®¤å€¼æ˜¯kernel_sizepadding(int or tuple, optional) ï¼šè¾“å…¥çš„æ¯ä¸€æ¡è¾¹è¡¥å……0çš„å±‚æ•°dilation(int or tuple, optional)ï¼šä¸€ä¸ªæ§åˆ¶çª—å£ä¸­å…ƒç´ æ­¥å¹…çš„å‚æ•°return_indices ï¼šå¦‚æœç­‰äºTrueï¼Œä¼šè¿”å›è¾“å‡ºæœ€å¤§å€¼çš„åºå·ï¼Œå¯¹äºä¸Šé‡‡æ ·æ“ä½œä¼šæœ‰å¸®åŠ©ceil_mode ï¼šå¦‚æœç­‰äºTrueï¼Œè®¡ç®—è¾“å‡ºä¿¡å·å¤§å°çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨å‘ä¸Šå–æ•´ï¼Œä»£æ›¿é»˜è®¤çš„å‘ä¸‹å–æ•´çš„# æ‰“å°æ¯ä¸€å±‚çš„å½¢çŠ¶for layer in net:    X = layer(X)  # è°ƒç”¨ç½‘ç»œä¸­çš„æ¯ä¸€å±‚ï¼Œè®¡ç®—    print(layer.__class__.__name__,&#39;output shape: \t&#39;,X.shape)    # è‡ªå·±å®ç°ä¸€ä¸ªå·ç§¯å±‚(æœ‰äº›é¢è¯•å¸¸é—®çš„)def corr2d(X, K):  #@save    &quot;&quot;&quot;è®¡ç®—äºŒç»´äº’ç›¸å…³è¿ç®—ï¼Œäº†è§£å³å¯ï¼Œåé¢ç›´æ¥æ‰åŒ…&quot;&quot;&quot;    h, w = K.shape    Y = torch.zeros((X.shape[0] - h + 1, X.shape[1] - w + 1))    for i in range(Y.shape[0]):        for j in range(Y.shape[1]):            Y[i, j] = (X[i:i + h, j:j + w] * K).sum()    return Y# å·ç§¯å±‚å¯¹è¾“å…¥å’Œå·ç§¯æ ¸æƒé‡è¿›è¡Œäº’ç›¸å…³è¿ç®—ï¼Œå¹¶åœ¨æ·»åŠ æ ‡é‡åç½®ä¹‹åäº§ç”Ÿè¾“å‡ºã€‚ # æ‰€ä»¥ï¼Œå·ç§¯å±‚ä¸­çš„ä¸¤ä¸ªè¢«è®­ç»ƒçš„å‚æ•°æ˜¯å·ç§¯æ ¸æƒé‡å’Œæ ‡é‡åç½®ã€‚class Conv2D(nn.Module):    def __init__(self, kernel_size):        super().__init__()        self.weight = nn.Parameter(torch.rand(kernel_size))        self.bias = nn.Parameter(torch.zeros(1))    def forward(self, x):        return corr2d(x, self.weight) + self.bias# é«˜åº¦å’Œå®½åº¦åˆ†åˆ«ä¸ºâ„hå’Œğ‘¤wçš„å·ç§¯æ ¸å¯ä»¥è¢«ç§°ä¸ºâ„Ã—ğ‘¤hÃ—wå·ç§¯æˆ–â„Ã—ğ‘¤hÃ—wå·ç§¯æ ¸ã€‚ # æˆ‘ä»¬ä¹Ÿå°†å¸¦æœ‰â„Ã—ğ‘¤hÃ—wå·ç§¯æ ¸çš„å·ç§¯å±‚ç§°ä¸ºâ„Ã—ğ‘¤hÃ—wå·ç§¯å±‚ã€‚</code></pre><h3 id="5-2ã€å·ç§¯ä»‹ç»"><a href="#5-2ã€å·ç§¯ä»‹ç»" class="headerlink" title="5.2ã€å·ç§¯ä»‹ç»"></a>5.2ã€å·ç§¯ä»‹ç»</h3><p>å·ç§¯ç¥ç»ç½‘ç»œæ­£æ˜¯å°†<em>ç©ºé—´ä¸å˜æ€§</em>ï¼ˆspatial invarianceï¼‰çš„è¿™ä¸€æ¦‚å¿µç³»ç»ŸåŒ–ï¼Œä»è€ŒåŸºäºè¿™ä¸ªæ¨¡å‹ä½¿ç”¨è¾ƒå°‘çš„å‚æ•°æ¥å­¦ä¹ æœ‰ç”¨çš„è¡¨ç¤ºã€‚è®¾è®¡é€‚åˆäºè®¡ç®—æœºè§†è§‰çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œåº”å…·å¤‡ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ol><li><p><em>å¹³ç§»ä¸å˜æ€§</em>ï¼ˆtranslation invarianceï¼‰ï¼šä¸ç®¡æ£€æµ‹å¯¹è±¡å‡ºç°åœ¨å›¾åƒä¸­çš„å“ªä¸ªä½ç½®ï¼Œç¥ç»ç½‘ç»œçš„å‰é¢å‡ å±‚åº”è¯¥å¯¹ç›¸åŒçš„å›¾åƒåŒºåŸŸå…·æœ‰ç›¸ä¼¼çš„ååº”ï¼Œå³ä¸ºâ€œå¹³ç§»ä¸å˜æ€§â€ã€‚</p></li><li><p><em>å±€éƒ¨æ€§</em>ï¼ˆlocalityï¼‰ï¼šç¥ç»ç½‘ç»œçš„å‰é¢å‡ å±‚åº”è¯¥åªæ¢ç´¢è¾“å…¥å›¾åƒä¸­çš„å±€éƒ¨åŒºåŸŸï¼Œè€Œä¸è¿‡åº¦åœ¨æ„å›¾åƒä¸­ç›¸éš”è¾ƒè¿œåŒºåŸŸçš„å…³ç³»ï¼Œè¿™å°±æ˜¯â€œå±€éƒ¨æ€§â€åŸåˆ™ã€‚æœ€ç»ˆï¼Œå¯ä»¥èšåˆè¿™äº›å±€éƒ¨ç‰¹å¾ï¼Œä»¥åœ¨æ•´ä¸ªå›¾åƒçº§åˆ«è¿›è¡Œé¢„æµ‹ã€‚</p></li></ol><p>ä¸¥æ ¼æ¥è¯´ï¼Œå·ç§¯å±‚æ˜¯ä¸ªé”™è¯¯çš„å«æ³•ï¼Œå› ä¸ºå®ƒæ‰€è¡¨è¾¾çš„è¿ç®—å…¶å®æ˜¯<em>äº’ç›¸å…³è¿ç®—</em>ï¼ˆcross-correlationï¼‰ï¼Œè€Œä¸æ˜¯å·ç§¯è¿ç®—ã€‚ åœ¨å·ç§¯å±‚ä¸­ï¼Œè¾“å…¥å¼ é‡å’Œæ ¸å¼ é‡é€šè¿‡(<strong>äº’ç›¸å…³è¿ç®—</strong>)äº§ç”Ÿè¾“å‡ºå¼ é‡ã€‚</p><p>ä¸€ä¸ªå·ç§¯æ ¸çš„è¾“å‡ºè®¡ç®—ï¼š</p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206192138635.png" alt="img"></p><pre><code class="Python">def corr2d(X, K):  #@save    &quot;&quot;&quot;è®¡ç®—äºŒç»´äº’ç›¸å…³è¿ç®—ï¼Œäº†è§£å³å¯ï¼Œåé¢ç›´æ¥æ‰åŒ…&quot;&quot;&quot;    h, w = K.shape    Y = torch.zeros((X.shape[0] - h + 1, X.shape[1] - w + 1))    for i in range(Y.shape[0]):        for j in range(Y.shape[1]):            Y[i, j] = (X[i:i + h, j:j + w] * K).sum()    return Y# å·ç§¯å±‚å¯¹è¾“å…¥å’Œå·ç§¯æ ¸æƒé‡è¿›è¡Œäº’ç›¸å…³è¿ç®—ï¼Œå¹¶åœ¨æ·»åŠ æ ‡é‡åç½®ä¹‹åäº§ç”Ÿè¾“å‡ºã€‚ # æ‰€ä»¥ï¼Œå·ç§¯å±‚ä¸­çš„ä¸¤ä¸ªè¢«è®­ç»ƒçš„å‚æ•°æ˜¯å·ç§¯æ ¸æƒé‡å’Œæ ‡é‡åç½®ã€‚class Conv2D(nn.Module):    def __init__(self, kernel_size):        super().__init__()        self.weight = nn.Parameter(torch.rand(kernel_size))        self.bias = nn.Parameter(torch.zeros(1))    def forward(self, x):        return corr2d(x, self.weight) + self.bias# é«˜åº¦å’Œå®½åº¦åˆ†åˆ«ä¸ºâ„hå’Œğ‘¤wçš„å·ç§¯æ ¸å¯ä»¥è¢«ç§°ä¸ºâ„Ã—ğ‘¤hÃ—wå·ç§¯æˆ–â„Ã—ğ‘¤hÃ—wå·ç§¯æ ¸ã€‚ # æˆ‘ä»¬ä¹Ÿå°†å¸¦æœ‰â„Ã—ğ‘¤hÃ—wå·ç§¯æ ¸çš„å·ç§¯å±‚ç§°ä¸ºâ„Ã—ğ‘¤hÃ—wå·ç§¯å±‚ã€‚</code></pre><p>å·ç§¯çš„å¡«å……ï¼Œå› ä¸ºå·ç§¯æ ¸æ˜¯ä¸€ä¸ªå°å·ç§¯ï¼Œåœ¨å·ç§¯çš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°è¾“å…¥çš„è§„æ¨¡å‡å°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¾¹ç¼˜è¿›è¡Œå¡«å……æ¥å‡å°‘è¿™ä¸ªç°è±¡ã€‚</p><pre><code class="Python"># è¯·æ³¨æ„ï¼Œè¿™é‡Œæ¯è¾¹éƒ½å¡«å……äº†1è¡Œæˆ–1åˆ—ï¼Œå› æ­¤æ€»å…±æ·»åŠ äº†2è¡Œæˆ–2åˆ—conv2d = nn.Conv2d(1, 1, kernel_size=3, padding=1) X = torch.rand(size=(8, 8))X = X.reshape((1, 1) + X.shape)  # è¿™é‡Œçš„ï¼ˆ1ï¼Œ1ï¼‰è¡¨ç¤ºæ‰¹é‡å¤§å°å’Œé€šé“æ•°éƒ½æ˜¯1Y = conv2d(X)Y.shape  # torch.Size([1, 1, 8, 8])</code></pre><p>nn.Conv2d()</p><pre><code class="Plain">in_channelsï¼šè¾“å…¥çš„é€šé“æ•°ç›® ã€å¿…é€‰ã€‘out_channelsï¼š è¾“å‡ºçš„é€šé“æ•°ç›® ã€å¿…é€‰ã€‘kernel_sizeï¼šå·ç§¯æ ¸çš„å¤§å°ï¼Œç±»å‹ä¸ºint æˆ–è€…å…ƒç»„ï¼Œå½“å·ç§¯æ˜¯æ–¹å½¢çš„æ—¶å€™ï¼Œåªéœ€è¦ä¸€ä¸ªæ•´æ•°è¾¹é•¿å³å¯ï¼Œå·ç§¯ä¸æ˜¯æ–¹å½¢ï¼Œè¦è¾“å…¥ä¸€ä¸ªå…ƒç»„è¡¨ç¤º é«˜å’Œå®½ã€‚ã€å¿…é€‰ã€‘strideï¼š å·ç§¯æ¯æ¬¡æ»‘åŠ¨çš„æ­¥é•¿ä¸ºå¤šå°‘ï¼Œé»˜è®¤æ˜¯ 1 ã€å¯é€‰ã€‘paddingï¼š è®¾ç½®åœ¨æ‰€æœ‰è¾¹ç•Œå¢åŠ  å€¼ä¸º 0 çš„è¾¹è·çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯åœ¨feature map å¤–å›´å¢åŠ å‡ åœˆ 0 ï¼‰ï¼Œä¾‹å¦‚å½“ padding =1 çš„æ—¶å€™ï¼Œå¦‚æœåŸæ¥å¤§å°ä¸º 3 Ã— 3 ï¼Œé‚£ä¹ˆä¹‹åçš„å¤§å°ä¸º 5 Ã— 5 ã€‚å³åœ¨å¤–å›´åŠ äº†ä¸€åœˆ 0 ã€‚ã€å¯é€‰ã€‘å‚æ•°çš„è¯¦è§£å‡ºè‡ªï¼šhttps://blog.csdn.net/qq_38863413/article/details/104108808</code></pre><p>å½“å·ç§¯æ ¸çš„é«˜åº¦å’Œå®½åº¦ä¸åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥[<strong>å¡«å……ä¸åŒçš„é«˜åº¦å’Œå®½åº¦</strong>]ï¼Œä½¿è¾“å‡ºå’Œè¾“å…¥å…·æœ‰ç›¸åŒçš„é«˜åº¦å’Œå®½åº¦ã€‚åœ¨å¦‚ä¸‹ç¤ºä¾‹ä¸­ï¼Œ<strong>æˆ‘ä»¬ä½¿ç”¨é«˜åº¦ä¸º5ï¼Œå®½åº¦ä¸º3çš„å·ç§¯æ ¸ï¼Œé«˜åº¦å’Œå®½åº¦ä¸¤è¾¹çš„å¡«å……åˆ†åˆ«ä¸º2å’Œ1ã€‚</strong></p><pre><code class="Python">conv2d = nn.Conv2d(1, 1, kernel_size=(5, 3), padding=(2, 1))comp_conv2d(conv2d, X).shapeconv2d = nn.Conv2d(1, 1, kernel_size=(3, 5), padding=(0, 1), stride=(3, 4))comp_conv2d(conv2d, X).shape# ä¸å…‰å¡«å……å¯ä»¥é«˜åº¦å’Œå®½åº¦ä¸ä¸€æ ·ï¼Œæ­¥å¹…ä¹Ÿå¯ä»¥é«˜åº¦å’Œå®½åº¦ä¸ä¸€æ ·# å…ƒç»„é‡Œé¢å…ˆé«˜åº¦åå®½åº¦</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¡«å……ä¸º0ï¼Œæ­¥å¹…ä¸º1ã€‚åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ä¸ä¸€è‡´çš„æ­¥å¹…æˆ–å¡«å……</p><h3 id="5-3ã€å¤šè¾“å…¥è¾“å‡ºé€šé“"><a href="#5-3ã€å¤šè¾“å…¥è¾“å‡ºé€šé“" class="headerlink" title="5.3ã€å¤šè¾“å…¥è¾“å‡ºé€šé“"></a>5.3ã€å¤šè¾“å…¥è¾“å‡ºé€šé“</h3><p>å½“æˆ‘ä»¬æ·»åŠ é€šé“æ—¶ï¼Œæˆ‘ä»¬çš„è¾“å…¥å’Œéšè—çš„è¡¨ç¤ºéƒ½å˜æˆäº†ä¸‰ç»´å¼ é‡ã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ªRGBè¾“å…¥å›¾åƒå…·æœ‰3Ã—â„Ã—ğ‘¤çš„å½¢çŠ¶ã€‚æˆ‘ä»¬å°†è¿™ä¸ªå¤§å°ä¸º3çš„è½´ç§°ä¸º<em>é€šé“</em>ï¼ˆchannelï¼‰ç»´åº¦ã€‚</p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206192138290.png" alt="img"> </p><p>å¤šé€šé“è®¡ç®—çš„å®ç°</p><pre><code class="Python">X = torch.tensor([[[0.0, 1.0, 2.0], [3.0, 4.0, 5.0], [6.0, 7.0, 8.0]],               [[1.0, 2.0, 3.0], [4.0, 5.0, 6.0], [7.0, 8.0, 9.0]]])def corr2d_multi_in(X, K):    # å…ˆéå†â€œXâ€å’Œâ€œKâ€çš„ç¬¬0ä¸ªç»´åº¦ï¼ˆé€šé“ç»´åº¦ï¼‰ï¼Œå†æŠŠå®ƒä»¬åŠ åœ¨ä¸€èµ·    return sum(d2l.corr2d(x, k) for x, k in zip(X, K))def corr2d_multi_in_out(X, K):    # è¿­ä»£â€œKâ€çš„ç¬¬0ä¸ªç»´åº¦ï¼Œæ¯æ¬¡éƒ½å¯¹è¾“å…¥â€œXâ€æ‰§è¡Œäº’ç›¸å…³è¿ç®—ã€‚    # æœ€åå°†æ‰€æœ‰ç»“æœéƒ½å åŠ åœ¨ä¸€èµ·    return torch.stack([corr2d_multi_in(X, k) for k in K], 0)corr2d_multi_in_out(X, K)</code></pre><h3 id="5-4ã€Pooling"><a href="#5-4ã€Pooling" class="headerlink" title="5.4ã€Pooling"></a>5.4ã€Pooling</h3><p>åŒé‡ç›®çš„ï¼šé™ä½å·ç§¯å±‚å¯¹ä½ç½®çš„æ•æ„Ÿæ€§ï¼ŒåŒæ—¶é™ä½å¯¹ç©ºé—´é™é‡‡æ ·è¡¨ç¤ºçš„æ•æ„Ÿæ€§ã€‚</p><p>ä¸åŒäºå·ç§¯å±‚ä¸­çš„è¾“å…¥ä¸å·ç§¯æ ¸ä¹‹é—´çš„äº’ç›¸å…³è®¡ç®—ï¼Œæ±‡èšå±‚ä¸åŒ…å«å‚æ•°ã€‚ ç›¸åï¼Œæ± è¿ç®—æ˜¯ç¡®å®šæ€§çš„ï¼Œæˆ‘ä»¬é€šå¸¸è®¡ç®—æ±‡èšçª—å£ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å€¼æˆ–å¹³å‡å€¼ã€‚</p><pre><code class="Python"># äº†è§£å³å¯ï¼Œä¸€ä¸ªæ±‡èšå±‚çš„ä»£ç def pool2d(X, pool_size, mode=&#39;max&#39;):    p_h, p_w = pool_size    Y = torch.zeros((X.shape[0] - p_h + 1, X.shape[1] - p_w + 1))   # è®¾ç½®è¾“å‡ºçš„çª—å£çš„å¤§å°    for i in range(Y.shape[0]):        for j in range(Y.shape[1]):            if mode == &#39;max&#39;:                Y[i, j] = X[i: i + p_h, j: j + p_w].max()            elif mode == &#39;avg&#39;:                Y[i, j] = X[i: i + p_h, j: j + p_w].mean()    return Y</code></pre><p>torch.nn.MaxPool2d(kernel_size, stride&#x3D;None, padding&#x3D;0, dilation&#x3D;1, return_indices&#x3D;False, ceil_mode&#x3D;False)</p><pre><code class="Plain">kernel_size(int or tuple) ï¼šmax poolingçš„çª—å£å¤§å°stride(int or tuple, optional)ï¼šmax poolingçš„çª—å£ç§»åŠ¨çš„æ­¥é•¿ã€‚é»˜è®¤å€¼æ˜¯kernel_sizepadding(int or tuple, optional) ï¼šè¾“å…¥çš„æ¯ä¸€æ¡è¾¹è¡¥å……0çš„å±‚æ•°dilation(int or tuple, optional)ï¼šä¸€ä¸ªæ§åˆ¶çª—å£ä¸­å…ƒç´ æ­¥å¹…çš„å‚æ•°return_indices ï¼šå¦‚æœç­‰äºTrueï¼Œä¼šè¿”å›è¾“å‡ºæœ€å¤§å€¼çš„åºå·ï¼Œå¯¹äºä¸Šé‡‡æ ·æ“ä½œä¼šæœ‰å¸®åŠ©ceil_mode ï¼šå¦‚æœç­‰äºTrueï¼Œè®¡ç®—è¾“å‡ºä¿¡å·å¤§å°çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨å‘ä¸Šå–æ•´ï¼Œä»£æ›¿é»˜è®¤çš„å‘ä¸‹å–æ•´çš„</code></pre><p>åœ¨å¤„ç†å¤šé€šé“è¾“å…¥æ•°æ®æ—¶ï¼Œ[<strong>æ±‡èšå±‚åœ¨æ¯ä¸ªè¾“å…¥é€šé“ä¸Šå•ç‹¬è¿ç®—</strong>]ï¼Œè€Œä¸æ˜¯åƒå·ç§¯å±‚ä¸€æ ·åœ¨é€šé“ä¸Šå¯¹è¾“å…¥è¿›è¡Œæ±‡æ€»ã€‚ è¿™æ„å‘³ç€æ±‡èšå±‚çš„è¾“å‡ºé€šé“æ•°ä¸è¾“å…¥é€šé“æ•°ç›¸åŒã€‚</p><h3 id="5-5ã€å®æˆ˜ä¾‹å­â€”â€”LeNet"><a href="#5-5ã€å®æˆ˜ä¾‹å­â€”â€”LeNet" class="headerlink" title="5.5ã€å®æˆ˜ä¾‹å­â€”â€”LeNet"></a>5.5ã€å®æˆ˜ä¾‹å­â€”â€”LeNet</h3><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206192138564.png" alt="img"></p><p>LeNetçš„ç»„æˆéƒ¨åˆ†æœ‰ä¸¤ä¸ªå·ç§¯å±‚å’Œä¸‰ä¸ªå…¨è¿æ¥å±‚å®ç°ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œç›´æ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•è°ƒç”¨ç°æˆçš„ã€‚</p><p>é€šè¿‡ä¸‹é¢çš„LeNetä»£ç ï¼Œä½ ä¼šç›¸ä¿¡ç”¨æ·±åº¦å­¦ä¹ æ¡†æ¶å®ç°æ­¤ç±»æ¨¡å‹éå¸¸ç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦å®ä¾‹åŒ–ä¸€ä¸ª<code>Sequential</code>å—å¹¶å°†éœ€è¦çš„å±‚è¿æ¥åœ¨ä¸€èµ·ã€‚</p><pre><code class="Python">import torchfrom torch import nnfrom d2l import torch as d2lnet = nn.Sequential(    nn.Conv2d(1, 6, kernel_size=5, padding=2), nn.Sigmoid(),    nn.AvgPool2d(kernel_size=2, stride=2),    nn.Conv2d(6, 16, kernel_size=5), nn.Sigmoid(),    nn.AvgPool2d(kernel_size=2, stride=2),    nn.Flatten(),    nn.Linear(16 * 5 * 5, 120), nn.Sigmoid(),    nn.Linear(120, 84), nn.Sigmoid(),    nn.Linear(84, 10))# ä¸ºäº†æ£€æŸ¥æ¨¡å‹ï¼Œæ‰“å°æ¯ä¸€å±‚çš„å½¢çŠ¶X = torch.rand(size=(1, 1, 28, 28), dtype=torch.float32)for layer in net:    X = layer(X)  # è°ƒç”¨ç½‘ç»œä¸­çš„æ¯ä¸€å±‚ï¼Œè®¡ç®—    print(layer.__class__.__name__,&#39;output shape: \t&#39;,X.shape)# æ¨¡å‹çš„è®­ç»ƒbatch_size = 256train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size=batch_size)def evaluate_accuracy_gpu(net, data_iter, device=None): #@save    &quot;&quot;&quot;ä½¿ç”¨GPUè®¡ç®—æ¨¡å‹åœ¨æ•°æ®é›†ä¸Šçš„ç²¾åº¦ï¼Œè¿™ä¸€éƒ¨åˆ†å…¶å®ä»å­¦ä¹ æ–¹æ³•æ¥è®²ä¸é‡è¦ï¼Œæ— æ‰€è°“&quot;&quot;&quot;    if isinstance(net, nn.Module):        net.eval()  # è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼        if not device:            device = next(iter(net.parameters())).device    # æ­£ç¡®é¢„æµ‹çš„æ•°é‡ï¼Œæ€»é¢„æµ‹çš„æ•°é‡    metric = d2l.Accumulator(2)    with torch.no_grad():        for X, y in data_iter:            if isinstance(X, list):                # BERTå¾®è°ƒæ‰€éœ€çš„ï¼ˆä¹‹åå°†ä»‹ç»ï¼‰                X = [x.to(device) for x in X]            else:                X = X.to(device)            y = y.to(device)            metric.add(d2l.accuracy(net(X), y), y.numel())    return metric[0] / metric[1]# æ¨¡å‹çš„è®­ç»ƒéƒ¨åˆ†ï¼Œä¹Ÿç®—æ˜¯é‡ç‚¹def train_ch6(net, train_iter, test_iter, num_epochs, lr, device):    &quot;&quot;&quot;ç”¨GPUè®­ç»ƒæ¨¡å‹(åœ¨ç¬¬å…­ç« å®šä¹‰)&quot;&quot;&quot;    # é¦–å…ˆæ˜¯åˆå§‹åŒ–ç½‘ç»œçš„å‚æ•°    def init_weights(m):        if type(m) == nn.Linear or type(m) == nn.Conv2d:            nn.init.xavier_uniform_(m.weight)    net.apply(init_weights)        print(&#39;training on&#39;, device)    net.to(device)   # æŠŠç½‘ç»œæ”¾å…¥è®¾å¤‡ä¸­        optimizer = torch.optim.SGD(net.parameters(), lr=lr)    loss = nn.CrossEntropyLoss()    # æŒ‡å®šä¼˜åŒ–å™¨å’ŒæŸå¤±å‡½æ•°        animator = d2l.Animator(xlabel=&#39;epoch&#39;, xlim=[1, num_epochs],                            legend=[&#39;train loss&#39;, &#39;train acc&#39;, &#39;test acc&#39;])    timer, num_batches = d2l.Timer(), len(train_iter)        for epoch in range(num_epochs):        # è®­ç»ƒæŸå¤±ä¹‹å’Œï¼Œè®­ç»ƒå‡†ç¡®ç‡ä¹‹å’Œï¼Œæ ·æœ¬æ•°        metric = d2l.Accumulator(3)        net.train()        for i, (X, y) in enumerate(train_iter):            timer.start()                        optimizer.zero_grad()            X, y = X.to(device), y.to(device)            y_hat = net(X)            l = loss(y_hat, y)            l.backward()            optimizer.step()                        with torch.no_grad():                metric.add(l * X.shape[0], d2l.accuracy(y_hat, y), X.shape[0])            timer.stop()            train_l = metric[0] / metric[2]            train_acc = metric[1] / metric[2]            if (i + 1) % (num_batches // 5) == 0 or i == num_batches - 1:                animator.add(epoch + (i + 1) / num_batches,                             (train_l, train_acc, None))        test_acc = evaluate_accuracy_gpu(net, test_iter)        animator.add(epoch + 1, (None, None, test_acc))    print(f&#39;loss &#123;train_l:.3f&#125;, train acc &#123;train_acc:.3f&#125;, &#39;          f&#39;test acc &#123;test_acc:.3f&#125;&#39;)    print(f&#39;&#123;metric[2] * num_epochs / timer.sum():.1f&#125; examples/sec &#39;          f&#39;on &#123;str(device)&#125;&#39;)  # äº†è§£è®­ç»ƒçš„åŸºæœ¬è¿‡ç¨‹å°±è¡Œï¼Œå› ä¸ºè¿™ä¸ªè®­ç»ƒçš„ä»£ç é›†æˆäº†å¾ˆå¤šä½œè€…è‡ªå·±å†™çš„d2lçš„åº“ï¼Œå®é™…ä¸­ä¸å¤š# ä¸»è¦æ˜¯å­¦ä¹ æ¨¡å‹éƒ¨åˆ†ï¼Œä»£ç çš„è®­ç»ƒè¿‡ç¨‹å‡ ä¹å¼€æºçš„é¡¹ç›®éƒ½æœ‰ï¼Œæ‰¾åˆ°è‡ªå·±é€‚åˆçš„å°±è¡Œ# ä½†æ˜¯ï¼Œä¸€å®šè¦è®°ä½çš„æ˜¯ï¼Œåœ¨æ¨¡å‹çš„è®­ç»ƒä¸­æœ‰å¾ˆå¤šå‘ï¼Œè¿™ä¸ªè¦æ•´ç†å¥½lr, num_epochs = 0.9, 10train_ch6(net, train_iter, test_iter, num_epochs, lr, d2l.try_gpu())</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·ç§¯ç¥ç»ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦(5)-æ·±åº¦æ¨¡å‹è®¡ç®—</title>
      <link href="/2022/06/17/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-5-%E6%B7%B1%E5%BA%A6%E6%A8%A1%E5%9E%8B%E8%AE%A1%E7%AE%97/"/>
      <url>/2022/06/17/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-5-%E6%B7%B1%E5%BA%A6%E6%A8%A1%E5%9E%8B%E8%AE%A1%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zh.d2l.ai/chapter_deep-learning-computation/index.html">https://zh.d2l.ai/chapter_deep-learning-computation/index.html</a>  </p><p>å‚è€ƒèµ„æ–™è§ä¸Š</p><h3 id="4-1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç "><a href="#4-1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç " class="headerlink" title="4.1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç "></a>4.1ã€å†™åœ¨æœ€å‰é¢ï¼Œä¸ç†Ÿæ‚‰çš„ä»£ç </h3><pre><code class="Python"># ä¸€ä¸ªè‡ªå®šä¹‰å—çš„å†™æ³•ï¼Œç­‰åŒäºä¸‹é¢ç›´æ¥æ‰åŒ…class MLP(nn.Module):    # ç”¨æ¨¡å‹å‚æ•°å£°æ˜å±‚ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å£°æ˜ä¸¤ä¸ªå…¨è¿æ¥çš„å±‚    def __init__(self):        # è°ƒç”¨MLPçš„çˆ¶ç±»Moduleçš„æ„é€ å‡½æ•°æ¥æ‰§è¡Œå¿…è¦çš„åˆå§‹åŒ–ã€‚        # è¿™æ ·ï¼Œåœ¨ç±»å®ä¾‹åŒ–æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–å‡½æ•°å‚æ•°ï¼Œä¾‹å¦‚æ¨¡å‹å‚æ•°paramsï¼ˆç¨åå°†ä»‹ç»ï¼‰        super().__init__()        self.hidden = nn.Linear(20, 256)  # éšè—å±‚        self.out = nn.Linear(256, 10)  # è¾“å‡ºå±‚            # å®šä¹‰æ¨¡å‹çš„å‰å‘ä¼ æ’­ï¼Œå³å¦‚ä½•æ ¹æ®è¾“å…¥Xè¿”å›æ‰€éœ€çš„æ¨¡å‹è¾“å‡º    def forward(self, X):        # æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ReLUçš„å‡½æ•°ç‰ˆæœ¬ï¼Œå…¶åœ¨nn.functionalæ¨¡å—ä¸­å®šä¹‰ã€‚        return self.out(F.relu(self.hidden(X)))# å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ‰åŒ…from troch import nnnew_MLP = nn.Sequential(nn.Linear(20,256),nn.ReLU(),nn.Linear(256,10))net[][].state_dict() # è®¿é—®æŸä¸€å±‚ç½‘ç»œçš„å‚æ•°ï¼ŒæŒ‰ç…§æ•°ç»„çš„æ ¼å¼è®¿é—®print(net[2].bias)   # tensor([0.1957], requires_grad=True)print(net[2].bias.data) # tensor([0.1957])net[2].weight.grad    # è®¿é—®æ¢¯åº¦ï¼Œåœ¨åå‘ä¼ æ’­ä¹‹å‰æ˜¯è´Ÿçš„æ¢¯åº¦print(*[(name, param.shape) for name, param in net.named_parameters()]) # ä¸€æ¬¡æ€§è®¿é—®æ‰€æœ‰å‚æ•°net.state_dict()[&#39;2.bias&#39;].data  æŒ‰ç…§å­—å…¸è®¿é—®å‚æ•°# å‚æ•°çš„åˆå§‹åŒ–æ–¹æ³•def init_normal(m):    if type(m) == nn.Linear:  # æŠŠæ‰€æœ‰çš„nn.Linearç±»å‹çš„å±‚æŒ‰ç…§æŒ‡å®šçš„åˆ†å¸ƒåˆå§‹åŒ–        nn.init.normal_(m.weight, mean=0, std=0.01)        # nn.init.constant_(m.weight, 1) åˆå§‹åŒ–ä¸ºå¸¸æ•°1        nn.init.zeros_(m.bias)net.apply(init_normal)   # ä¹Ÿå¯ä»¥net[0].apply(init_normal)ï¼Œåˆå§‹åŒ–æŸä¸€å±‚&quot;&quot;&quot;nn.Moduleé‡Œé¢å…³äºå‚æ•°æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å±æ€§named_parameters()å’Œparameters()ï¼Œå‰è€…ç»™å‡ºç½‘ç»œå±‚çš„åå­—å’Œå‚æ•°çš„è¿­ä»£å™¨ï¼Œè€Œåè€…ä»…ä»…æ˜¯å‚æ•°çš„è¿­ä»£å™¨ã€‚&quot;&quot;&quot;# å±‚ç»„æˆå—ï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥è‡ªå®šä¹‰å—ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å±‚# å®ç°ä¸€ä¸ªå…¨è¿æ¥å±‚class MyLinear(nn.Module):    def __init__(self, inputs, units):        super().__init__()        self.weight = nn.Parameter(torch.randn(in_units, units))        self.bias = nn.Parameter(torch.randn(units,))    def forward(self, X):        linear = torch.matmul(X, self.weight.data) + self.bais.data        return F.relu(linear)# è¯»å†™æ–‡ä»¶ï¼Œä¿å­˜å‚æ•°å’Œæ¨¡å‹torch.save(x, &#39;x-file&#39;)x2 = torch.load(&#39;x-file&#39;)torch.save(net.state_dict(), &#39;mlp.params&#39;)# ä¸ºäº†æ¢å¤æ¨¡å‹ï¼Œæˆ‘ä»¬[å®ä¾‹åŒ–äº†åŸå§‹å¤šå±‚æ„ŸçŸ¥æœºæ¨¡å‹çš„ä¸€ä¸ªå¤‡ä»½ã€‚] # è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦éšæœºåˆå§‹åŒ–æ¨¡å‹å‚æ•°ï¼Œè€Œæ˜¯(ç›´æ¥è¯»å–æ–‡ä»¶ä¸­å­˜å‚¨çš„å‚æ•°ã€‚)clone = MLP()clone.load_state_dict(torch.load(&#39;mlp.params&#39;))   # æ¨¡å‹åŠ è½½å‚æ•°clone.eval()# æ¯”è¾ƒçµæ´»ï¼Œç›´æ¥å­˜å°±è¡Œï¼Œå­˜çš„æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¯»å‡ºæ¥å°±æ˜¯ä»€ä¹ˆæ ¼å¼module.train()   # å¯ç”¨ Batch Normalization å’Œ Dropoutã€‚å¦‚æœæ¨¡å‹ä¸­æœ‰BNå±‚(Batch Normalizationï¼‰å’ŒDropoutï¼Œéœ€è¦åœ¨è®­ç»ƒæ—¶æ·»åŠ model.train()ã€‚module.eval()    # ä¸å¯ç”¨ Batch Normalization å’Œ Dropoutã€‚å¦‚æœæ¨¡å‹ä¸­æœ‰BNå±‚(Batch Normalizationï¼‰å’ŒDropoutï¼Œåœ¨æµ‹è¯•æ—¶æ·»åŠ model.eval()device = torch.device(f&#39;cuda:&#123;i&#125;&#39;) X = torch.ones(2, 3, device=try_gpu())# æŒ‡å®šåœ¨å“ªä¸€ä¸ªGPUä¸Šåˆ›å»º# å°†ç½‘ç»œçš„æ¨¡å‹æŒ‡å®šåœ¨å“ªä¸€ä¸ªgpuä¸Šnet = nn.Sequential(nn.Linear(3, 1))net = net.to(device=try_gpu())</code></pre><h3 id="4-2ã€å—"><a href="#4-2ã€å—" class="headerlink" title="4.2ã€å—"></a>4.2ã€å—</h3><p><em>å—</em>ï¼ˆblockï¼‰å¯ä»¥æè¿°å•ä¸ªå±‚ã€ç”±å¤šä¸ªå±‚ç»„æˆçš„ç»„ä»¶æˆ–æ•´ä¸ªæ¨¡å‹æœ¬èº«ã€‚ ä½¿ç”¨å—è¿›è¡ŒæŠ½è±¡çš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥å°†ä¸€äº›å—ç»„åˆæˆæ›´å¤§çš„ç»„ä»¶ï¼Œ è¿™ä¸€è¿‡ç¨‹é€šå¸¸æ˜¯é€’å½’çš„ã€‚</p><p><strong>æ·±åº¦ç¥ç»ç½‘ç»œçš„æ¨¡å‹å°±æ˜¯ä¸€ä¸ªå—ä¸€ä¸ªå—åƒæ­ç§¯æœ¨ä¸€æ ·æ­èµ·æ¥çš„ï¼Œå¾ˆé‡è¦ã€‚</strong></p><p>å¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ªå—ï¼Œæ¯ä¸ªå—å¿…é¡»æä¾›ä»¥ä¸‹åŸºæœ¬åŠŸèƒ½ï¼š</p><ol><li><p>å°†è¾“å…¥æ•°æ®ä½œä¸ºå…¶å‰å‘ä¼ æ’­å‡½æ•°çš„å‚æ•°ã€‚</p></li><li><p>é€šè¿‡å‰å‘ä¼ æ’­å‡½æ•°æ¥ç”Ÿæˆè¾“å‡ºã€‚è¯·æ³¨æ„ï¼Œè¾“å‡ºçš„å½¢çŠ¶å¯èƒ½ä¸è¾“å…¥çš„å½¢çŠ¶ä¸åŒã€‚ä¾‹å¦‚ç¬¬ä¸€ä¸ªå…¨è¿æ¥çš„å±‚æ¥æ”¶ä¸€ä¸ª20ç»´çš„è¾“å…¥ï¼Œä½†æ˜¯è¿”å›ä¸€ä¸ªç»´åº¦ä¸º256çš„è¾“å‡ºã€‚</p></li><li><p>è®¡ç®—å…¶è¾“å‡ºå…³äºè¾“å…¥çš„æ¢¯åº¦ï¼Œå¯é€šè¿‡å…¶åå‘ä¼ æ’­å‡½æ•°è¿›è¡Œè®¿é—®ã€‚é€šå¸¸è¿™æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ã€‚</p></li><li><p>å­˜å‚¨å’Œè®¿é—®å‰å‘ä¼ æ’­è®¡ç®—æ‰€éœ€çš„å‚æ•°ã€‚</p></li><li><p>æ ¹æ®éœ€è¦åˆå§‹åŒ–æ¨¡å‹å‚æ•°ã€‚</p></li></ol><pre><code class="Python"># ä¸€ä¸ªå—çš„æ ‡å‡†å®šä¹‰class MLP(nn.Module):    # ç”¨æ¨¡å‹å‚æ•°å£°æ˜å±‚ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å£°æ˜ä¸¤ä¸ªå…¨è¿æ¥çš„å±‚    def __init__(self):        # è°ƒç”¨MLPçš„çˆ¶ç±»Moduleçš„æ„é€ å‡½æ•°æ¥æ‰§è¡Œå¿…è¦çš„åˆå§‹åŒ–ã€‚        # è¿™æ ·ï¼Œåœ¨ç±»å®ä¾‹åŒ–æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–å‡½æ•°å‚æ•°ï¼Œä¾‹å¦‚æ¨¡å‹å‚æ•°paramsï¼ˆç¨åå°†ä»‹ç»ï¼‰        super().__init__()        self.hidden = nn.Linear(20, 256)  # éšè—å±‚        self.out = nn.Linear(256, 10)  # è¾“å‡ºå±‚    # å®šä¹‰æ¨¡å‹çš„å‰å‘ä¼ æ’­ï¼Œå³å¦‚ä½•æ ¹æ®è¾“å…¥Xè¿”å›æ‰€éœ€çš„æ¨¡å‹è¾“å‡º    def forward(self, X):        # æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ReLUçš„å‡½æ•°ç‰ˆæœ¬ï¼Œå…¶åœ¨nn.functionalæ¨¡å—ä¸­å®šä¹‰ã€‚        return self.out(F.relu(self.hidden(X)))# å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ‰åŒ…from troch import nnnew_MLP = nn.Sequential(nn.Linear(20,256),nn.ReLU(),nn.Linear(256,10))</code></pre><p>ä¸Šè¿°çš„nn.Sequential()æ˜¯ä¸€ä¸ªé¡ºåºå—ï¼Œå°±æ˜¯æå‰å®šä¹‰å¥½çš„å—ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸‹ï¼š</p><pre><code class="Python">class MySequential(nn.Module):    def __init__(self, *args):        super().__init__()        for idx, module in enumerate(args):            # è¿™é‡Œï¼Œmoduleæ˜¯Moduleå­ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚æˆ‘ä»¬æŠŠå®ƒä¿å­˜åœ¨&#39;Module&#39;ç±»çš„æˆå‘˜            # å˜é‡_modulesä¸­ã€‚moduleçš„ç±»å‹æ˜¯OrderedDict            self._modules[str(idx)] = module        def forward(self,X):        # OrderedDict ä¿è¯äº†æˆå‘˜å˜é‡æ·»åŠ çš„å±æ€§éå†ä»–ä»¬        for block in self._modules.values():            X = block(X)        return X</code></pre><p>å¯¹äºä¸€ä¸ªå—æ¥è¯´ï¼Œæ˜¯ä½ å¯ä»¥éšå¿ƒæ‰€æ¬²è®¾è®¡çš„ï¼Œæƒ³æ€ä¹ˆç»„åˆæ€ä¹ˆæ··åˆéƒ½å¯ä»¥ã€‚</p><h3 id="4-3ã€æ¨¡å‹ä¸­å‚æ•°çš„ç®¡ç†ï¼šè®¿é—®ã€åˆå§‹åŒ–ã€å…±äº«"><a href="#4-3ã€æ¨¡å‹ä¸­å‚æ•°çš„ç®¡ç†ï¼šè®¿é—®ã€åˆå§‹åŒ–ã€å…±äº«" class="headerlink" title="4.3ã€æ¨¡å‹ä¸­å‚æ•°çš„ç®¡ç†ï¼šè®¿é—®ã€åˆå§‹åŒ–ã€å…±äº«"></a>4.3ã€æ¨¡å‹ä¸­å‚æ•°çš„ç®¡ç†ï¼šè®¿é—®ã€åˆå§‹åŒ–ã€å…±äº«</h3><p>ä»å·²æœ‰æ¨¡å‹ä¸­è®¿é—®å‚æ•°ã€‚ å½“é€šè¿‡<code>Sequential</code>ç±»å®šä¹‰æ¨¡å‹æ—¶ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®æ¨¡å‹çš„ä»»æ„å±‚ã€‚ è¿™å°±åƒæ¨¡å‹æ˜¯ä¸€ä¸ªåˆ—è¡¨ä¸€æ ·ï¼Œæ¯å±‚çš„å‚æ•°éƒ½åœ¨å…¶å±æ€§ä¸­ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ç¬¬äºŒä¸ªå…¨è¿æ¥å±‚çš„å‚æ•°ã€‚ æ³¨æ„ï¼Œå‚æ•°åç§°å…è®¸å”¯ä¸€æ ‡è¯†æ¯ä¸ªå‚æ•°ï¼Œå³ä½¿åœ¨åŒ…å«æ•°ç™¾ä¸ªå±‚çš„ç½‘ç»œä¸­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><pre><code class="Python">net = nn.Sequential(nn.Linear(4, 8), nn.ReLU(), nn.Linear(8, 1))print(net[2].state_dict())  # è¿™å°±æ˜¯è®¿é—®çš„ nn.Linear(8, 1)çš„å‚æ•°# OrderedDict([(&#39;weight&#39;, tensor([[-0.1976,  0.2988,  0.0623, -0.2936, -0.2918, -0.2031,  0.1552,  0.0943]])), # (&#39;bias&#39;, tensor([0.1957]))])</code></pre><p>è®¿é—®ç›®æ ‡å‚æ•°ï¼Œæ¯”å¦‚è®¿é—®ç¬¬ä¸‰ä¸ªç¥ç»ç½‘ç»œå±‚ï¼ˆnn.Linear(8,1)ï¼‰çš„åç½®ã€‚</p><pre><code class="Python">print(net[2].bias)   # tensor([0.1957], requires_grad=True)print(net[2].bias.data) # tensor([0.1957])net[2].weight.grad    # è®¿é—®æ¢¯åº¦ï¼Œåœ¨åå‘ä¼ æ’­ä¹‹å‰æ˜¯è´Ÿçš„æ¢¯åº¦print(*[(name, param.shape) for name, param in net.named_parameters()]) # ä¸€æ¬¡æ€§è®¿é—®æ‰€æœ‰å‚æ•°net.state_dict()[&#39;2.bias&#39;].data  æŒ‰ç…§å­—å…¸è®¿é—®å‚æ•°</code></pre><p>æ·±åº¦ç¥ç»ç½‘ç»œçš„ç½‘ç»œå±‚æ˜¯åˆ†å±‚åµŒå¥—çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥åƒé€šè¿‡åµŒå¥—åˆ—è¡¨ç´¢å¼•ä¸€æ ·è®¿é—®å®ƒä»¬ã€‚</p><p>å¯ä»¥ç›´æ¥print(net)æŸ¥çœ‹ï¼Œç´¢å¼•æ˜¯ä»0å¼€å§‹ï¼Œå¯ä»¥æŒ‰ç…§net[][]çš„æ ¼å¼è®¿é—®ã€‚</p><p><strong>å‚æ•°çš„åˆå§‹åŒ–ï¼š</strong></p><pre><code class="Python"># æ–¹æ³•ä¸€def init_normal(m):    if type(m) == nn.Linear:  # æŠŠæ‰€æœ‰çš„nn.Linearç±»å‹çš„å±‚æŒ‰ç…§æŒ‡å®šçš„åˆ†å¸ƒåˆå§‹åŒ–        nn.init.normal_(m.weight, mean=0, std=0.01)        # nn.init.constant_(m.weight, 1) åˆå§‹åŒ–ä¸ºå¸¸æ•°1        nn.init.zeros_(m.bias)net.apply(init_normal)# æ–¹æ³•äºŒdef xavier(m):    if type(m) == nn.Linear:        nn.init.xavier_uniform_(m.weight)def init_42(m):    if type(m) == nn.Linear:        nn.init.constant_(m.weight, 42)net[0].apply(xavier)   # æŒ‡å®šè¿™ä¸€ä¸ªå±‚ä½¿ç”¨xavieråˆå§‹åŒ–æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰[0]æŒ‡å®šçš„è¯æ˜¯é’ˆå¯¹æ‰€æœ‰çš„å±‚net[2].apply(init_42)# æ–¹æ³•ä¸‰ è‡ªå®šä¹‰çš„å‚æ•°æ›´æ–°ï¼Œå…¶å®æ— è®ºæ€ä¹ˆæ ·ï¼Œæˆ‘ä»¬åªè¦è‡ªå®šä¹‰ä¸€ä¸ªå‚æ•°æ›´æ–°çš„æ–¹å¼# ç„¶å nn.apply(my_init)def my_init(m):    if type(m) == nn.Linear:        # print(&quot;Init&quot;, *[(name, param.shape)        #                 for name, param in m.named_parameters()][0])        nn.init.uniform_(m.weight, -10, 10)        m.weight.data *= m.weight.data.abs() &gt;= 5net.apply(my_init)</code></pre><p>nn.Moduleé‡Œé¢å…³äºå‚æ•°æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å±æ€§named_parameters()å’Œparameters()ï¼Œå‰è€…ç»™å‡º<strong>ç½‘ç»œå±‚çš„åå­—å’Œå‚æ•°</strong>çš„è¿­ä»£å™¨ï¼Œè€Œåè€…<strong>ä»…ä»…æ˜¯å‚æ•°</strong>çš„è¿­ä»£å™¨ã€‚</p><p>å‚æ•°ç»‘å®šï¼ˆå‚æ•°å…±äº«ï¼‰</p><p>æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›åœ¨å¤šä¸ªå±‚é—´å…±äº«å‚æ•°ï¼š æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªç¨ å¯†å±‚ï¼Œç„¶åä½¿ç”¨å®ƒçš„å‚æ•°æ¥è®¾ç½®å¦ä¸€ä¸ªå±‚çš„å‚æ•°ã€‚</p><pre><code class="Python"># æˆ‘ä»¬éœ€è¦ç»™å…±äº«å±‚ä¸€ä¸ªåç§°ï¼Œä»¥ä¾¿å¯ä»¥å¼•ç”¨å®ƒçš„å‚æ•°shared = nn.Linear(8, 8)net = nn.Sequential(nn.Linear(4, 8), nn.ReLU(),                    shared,                    nn.ReLU(),                    shared,                    nn.ReLU(),                    nn.Linear(8, 1))net(X)</code></pre><p>è¿™ä¸ªä¾‹å­è¡¨æ˜ç¬¬ä¸‰ä¸ªå’Œç¬¬äº”ä¸ªç¥ç»ç½‘ç»œå±‚çš„å‚æ•°æ˜¯ç»‘å®šçš„ã€‚ å®ƒä»¬ä¸ä»…å€¼ç›¸ç­‰ï¼Œè€Œä¸”ç”±ç›¸åŒçš„å¼ é‡è¡¨ç¤ºã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æ”¹å˜å…¶ä¸­ä¸€ä¸ªå‚æ•°ï¼Œå¦ä¸€ä¸ªå‚æ•°ä¹Ÿä¼šæ”¹å˜ã€‚ ä½ å¯èƒ½ä¼šæ€è€ƒï¼šå½“å‚æ•°ç»‘å®šæ—¶ï¼Œæ¢¯åº¦ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ <strong>ç­”æ¡ˆæ˜¯ç”±äºæ¨¡å‹å‚æ•°åŒ…å«æ¢¯åº¦ï¼Œå› æ­¤åœ¨åå‘ä¼ æ’­æœŸé—´ç¬¬äºŒä¸ªéšè—å±‚ ï¼ˆå³ç¬¬ä¸‰ä¸ªç¥ç»ç½‘ç»œå±‚ï¼‰å’Œç¬¬ä¸‰ä¸ªéšè—å±‚ï¼ˆå³ç¬¬äº”ä¸ªç¥ç»ç½‘ç»œå±‚ï¼‰çš„æ¢¯åº¦ä¼šåŠ åœ¨ä¸€èµ·</strong>ã€‚</p><h3 id="4-4ã€è‡ªå®šä¹‰å±‚"><a href="#4-4ã€è‡ªå®šä¹‰å±‚" class="headerlink" title="4.4ã€è‡ªå®šä¹‰å±‚"></a>4.4ã€è‡ªå®šä¹‰å±‚</h3><p>æ·±åº¦å­¦ä¹ æˆåŠŸèƒŒåçš„ä¸€ä¸ªå› ç´ æ˜¯ç¥ç»ç½‘ç»œçš„çµæ´»æ€§ï¼š æˆ‘ä»¬å¯ä»¥ç”¨åˆ›é€ æ€§çš„æ–¹å¼ç»„åˆä¸åŒçš„å±‚ï¼Œä»è€Œè®¾è®¡å‡ºé€‚ç”¨äºå„ç§ä»»åŠ¡çš„æ¶æ„ã€‚</p><p> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°æ¥åˆ›å»ºå‚æ•°ï¼Œè¿™äº›å‡½æ•°æä¾›ä¸€äº›åŸºæœ¬çš„ç®¡ç†åŠŸèƒ½ã€‚ æ¯”å¦‚ç®¡ç†è®¿é—®ã€åˆå§‹åŒ–ã€å…±äº«ã€ä¿å­˜å’ŒåŠ è½½æ¨¡å‹å‚æ•°ã€‚ è¿™æ ·åšçš„å¥½å¤„ä¹‹ä¸€æ˜¯ï¼šæˆ‘ä»¬ä¸éœ€è¦ä¸ºæ¯ä¸ªè‡ªå®šä¹‰å±‚ç¼–å†™è‡ªå®šä¹‰çš„åºåˆ—åŒ–ç¨‹åºã€‚</p><pre><code class="Python"># å®ç°ä¸€ä¸ªå…¨è¿æ¥å±‚class MyLinear(nn.Module):    def __init__(self, inputs, units):        super().__init__()        self.weight = nn.Parameter(torch.randn(in_units, units))        self.bias = nn.Parameter(torch.randn(units,))    def forward(self, X):        linear = torch.matmul(X, self.weight.data) + self.bais.data        return F.relu(linear)        net = nn.Sequential(MyLinear(64, 8), MyLinear(8, 1))net(torch.rand(2, 64))</code></pre><h3 id="4-5ã€è¯»å†™æ–‡ä»¶"><a href="#4-5ã€è¯»å†™æ–‡ä»¶" class="headerlink" title="4.5ã€è¯»å†™æ–‡ä»¶"></a>4.5ã€è¯»å†™æ–‡ä»¶</h3><p>åŠ è½½å’Œä¿å­˜å¼ é‡   torch.save()   torch.load()</p><pre><code class="Python">x = torch.arange(4)torch.save(x, &#39;x-file&#39;)x2 = torch.load(&#39;x-file&#39;)y = torch.zeros(4)torch.save([x, y],&#39;x-files&#39;)mydict = &#123;&#39;x&#39;: x, &#39;y&#39;: y&#125;torch.save(mydict, &#39;mydict&#39;)# æ¯”è¾ƒçµæ´»ï¼Œç›´æ¥å­˜å°±è¡Œï¼Œå­˜çš„æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¯»å‡ºæ¥å°±æ˜¯ä»€ä¹ˆæ ¼å¼</code></pre><p>ä¿å­˜æ•´ä¸ªæ¨¡å‹ï¼Œå…¶å®ä¿å­˜çš„å°±æ˜¯è¿™ä¸ªæ¨¡å‹çš„å‚æ•°ã€‚</p><pre><code class="Python">torch.save(net.state_dict(), &#39;mlp.params&#39;)# ä¸ºäº†æ¢å¤æ¨¡å‹ï¼Œæˆ‘ä»¬[å®ä¾‹åŒ–äº†åŸå§‹å¤šå±‚æ„ŸçŸ¥æœºæ¨¡å‹çš„ä¸€ä¸ªå¤‡ä»½ã€‚] # è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦éšæœºåˆå§‹åŒ–æ¨¡å‹å‚æ•°ï¼Œè€Œæ˜¯(ç›´æ¥è¯»å–æ–‡ä»¶ä¸­å­˜å‚¨çš„å‚æ•°ã€‚)clone = MLP()clone.load_state_dict(torch.load(&#39;mlp.params&#39;))   # æ¨¡å‹åŠ è½½å‚æ•°clone.eval()</code></pre><p>**model.train()**çš„ä½œç”¨æ˜¯å¯ç”¨ Batch Normalization <strong>å’Œ</strong> Dropoutã€‚å¦‚æœæ¨¡å‹ä¸­æœ‰BNå±‚(Batch Normalizationï¼‰å’ŒDropoutï¼Œéœ€è¦åœ¨è®­ç»ƒæ—¶æ·»åŠ model.train()ã€‚model.train()æ˜¯ä¿è¯BNå±‚èƒ½å¤Ÿç”¨åˆ°æ¯ä¸€æ‰¹æ•°æ®çš„å‡å€¼å’Œæ–¹å·®ã€‚å¯¹äºDropoutï¼Œmodel.train()æ˜¯éšæœºå–ä¸€éƒ¨åˆ†ç½‘ç»œè¿æ¥æ¥è®­ç»ƒæ›´æ–°å‚æ•°ã€‚</p><p>**model.eval()**çš„ä½œç”¨æ˜¯ä¸å¯ç”¨ Batch Normalization <strong>å’Œ</strong> Dropoutã€‚å¦‚æœæ¨¡å‹ä¸­æœ‰BNå±‚(Batch Normalizationï¼‰å’ŒDropoutï¼Œåœ¨æµ‹è¯•æ—¶æ·»åŠ model.eval()ã€‚model.eval()æ˜¯ä¿è¯BNå±‚èƒ½å¤Ÿç”¨å…¨éƒ¨è®­ç»ƒæ•°æ®çš„å‡å€¼å’Œæ–¹å·®ï¼Œå³æµ‹è¯•è¿‡ç¨‹ä¸­è¦ä¿è¯BNå±‚çš„å‡å€¼å’Œæ–¹å·®ä¸å˜ã€‚å¯¹äºDropoutï¼Œmodel.eval()æ˜¯åˆ©ç”¨åˆ°äº†æ‰€æœ‰ç½‘ç»œè¿æ¥ï¼Œå³ä¸è¿›è¡Œéšæœºèˆå¼ƒç¥ç»å…ƒã€‚è®­ç»ƒå®Œtrainæ ·æœ¬åï¼Œç”Ÿæˆçš„æ¨¡å‹modelè¦ç”¨æ¥æµ‹è¯•æ ·æœ¬ã€‚åœ¨model(test)ä¹‹å‰ï¼Œéœ€è¦åŠ ä¸Šmodel.eval()ï¼Œå¦åˆ™çš„è¯ï¼Œæœ‰è¾“å…¥æ•°æ®ï¼Œå³ä½¿ä¸è®­ç»ƒï¼Œå®ƒä¹Ÿä¼šæ”¹å˜æƒå€¼ã€‚è¿™æ˜¯modelä¸­å«æœ‰BNå±‚å’ŒDropoutæ‰€å¸¦æ¥çš„çš„æ€§è´¨ã€‚åœ¨åšone classificationçš„æ—¶å€™ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ ·æœ¬åˆ†å¸ƒæ˜¯ä¸ä¸€æ ·çš„ï¼Œå°¤å…¶éœ€è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚</p><h3 id="4-6ã€GPUçš„è°ƒç”¨"><a href="#4-6ã€GPUçš„è°ƒç”¨" class="headerlink" title="4.6ã€GPUçš„è°ƒç”¨"></a>4.6ã€GPUçš„è°ƒç”¨</h3><pre><code class="Python">def try_gpu(i=0):  #@save    &quot;&quot;&quot;å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›gpu(i)ï¼Œå¦åˆ™è¿”å›cpu()&quot;&quot;&quot;    if torch.cuda.device_count() &gt;= i + 1:        return torch.device(f&#39;cuda:&#123;i&#125;&#39;)    return torch.device(&#39;cpu&#39;)def try_all_gpus():  #@save    &quot;&quot;&quot;è¿”å›æ‰€æœ‰å¯ç”¨çš„GPUï¼Œå¦‚æœæ²¡æœ‰GPUï¼Œåˆ™è¿”å›[cpu(),]&quot;&quot;&quot;    devices = [torch.device(f&#39;cuda:&#123;i&#125;&#39;)             for i in range(torch.cuda.device_count())]    return devices if devices else [torch.device(&#39;cpu&#39;)]</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„ï¼Œæ— è®ºä½•æ—¶æˆ‘ä»¬è¦å¯¹å¤šä¸ªé¡¹è¿›è¡Œæ“ä½œï¼Œ <strong>å®ƒä»¬éƒ½å¿…é¡»åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œä¸”åŒºåˆ†GPU1å’ŒGPU2ã€‚</strong> ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ä¸¤ä¸ªå¼ é‡æ±‚å’Œï¼Œ æˆ‘ä»¬éœ€è¦ç¡®ä¿ä¸¤ä¸ªå¼ é‡éƒ½ä½äºåŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œ å¦åˆ™æ¡†æ¶å°†ä¸çŸ¥é“åœ¨å“ªé‡Œå­˜å‚¨ç»“æœï¼Œç”šè‡³ä¸çŸ¥é“åœ¨å“ªé‡Œæ‰§è¡Œè®¡ç®—ã€‚</p><pre><code class="Python">X = torch.ones(2, 3, device=try_gpu())# æŒ‡å®šåœ¨å“ªä¸€ä¸ªGPUä¸Šåˆ›å»º# å°†ç½‘ç»œçš„æ¨¡å‹æŒ‡å®šåœ¨å“ªä¸€ä¸ªgpuä¸Šnet = nn.Sequential(nn.Linear(3, 1))net = net.to(device=try_gpu())</code></pre><p>ä¸ç»æ„åœ°ç§»åŠ¨æ•°æ®å¯èƒ½ä¼šæ˜¾è‘—é™ä½æ€§èƒ½ã€‚<strong>ä¸€ä¸ªå…¸å‹çš„é”™è¯¯å¦‚ä¸‹</strong>ï¼šè®¡ç®—GPUä¸Šæ¯ä¸ªå°æ‰¹é‡çš„æŸå¤±ï¼Œå¹¶åœ¨å‘½ä»¤è¡Œä¸­å°†å…¶æŠ¥å‘Šç»™ç”¨æˆ·ï¼ˆæˆ–å°†å…¶è®°å½•åœ¨NumPy <code>ndarray</code>ä¸­ï¼‰æ—¶ï¼Œå°†è§¦å‘å…¨å±€è§£é‡Šå™¨é”ï¼Œä»è€Œä½¿æ‰€æœ‰GPUé˜»å¡ã€‚æœ€å¥½æ˜¯ä¸ºGPUå†…éƒ¨çš„æ—¥å¿—åˆ†é…å†…å­˜ï¼Œå¹¶ä¸”åªç§»åŠ¨è¾ƒå¤§çš„æ—¥å¿—ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å— </tag>
            
            <tag> å‚æ•°æ§åˆ¶ </tag>
            
            <tag> è‡ªå®šä¹‰å±‚ </tag>
            
            <tag> è¯»å†™æ¨¡å‹ </tag>
            
            <tag> GPUè°ƒç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦ï¼ˆ4ï¼‰-å¤šå±‚æ„ŸçŸ¥æœºä¸‹</title>
      <link href="/2022/06/16/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6%EF%BC%884%EF%BC%89-%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA%E4%B8%8B/"/>
      <url>/2022/06/16/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6%EF%BC%884%EF%BC%89-%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA%E4%B8%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zh.d2l.ai/chapter_multilayer-perceptrons/kaggle-house-price.html">https://zh.d2l.ai/chapter_multilayer-perceptrons/kaggle-house-price.html</a></p><p>è¿™æ˜¯å¤©æ± ç«èµ›çš„æ”¾å‡é¢„æµ‹çš„å®ä¾‹ï¼Œä¸€ä¸ªå¹¿æ³›çš„ç”¨äºç»ƒæ‰‹çš„é¡¹ç›®ï¼Œæ•°æ®é›†å¤„ç†å äº†å¤§å¤´ğŸ˜‚ï¼Œå‚è€ƒçš„é“¾æ¥è§ä¸Šï¼Œä¸‹é¢æ˜¯è¯¦ç»†çš„ä»£ç ã€‚</p><pre><code class="python">import hashlibimport osimport tarfileimport zipfileimport requests#@saveDATA_HUB = dict()DATA_URL = &#39;http://d2l-data.s3-accelerate.amazonaws.com/&#39;def download(name, cache_dir = os.path.join(&#39;..&#39;, &#39;data&#39;)):    &quot;&quot;&quot;ä¸‹è½½ä¸€ä¸ªDATA_HUBä¸­çš„æ–‡ä»¶ï¼Œè¿”å›æœ¬åœ°æ–‡ä»¶å&quot;&quot;&quot;    assert name in DATA_HUB, f&quot;&#123;name&#125; ä¸å­˜åœ¨äº &#123;DATA_HUB&#125;&quot;    url, sha1_hash = DATA_HUB[name]    os.makedirs(cache_dir, exist_ok=True)    fname = os.path.join(cache_dir, url.split(&#39;/&#39;)[-1])    if os.path.exists(fname):        sha1 = hashlib.sha1()        with open(fname, &#39;rb&#39;) as f:            while True:                data = f.read(1048576)                if not data:                    break                sha1.update(data)        if sha1.hexdigest() == sha1_hash:            return fname  # å‘½ä¸­ç¼“å­˜    print(f&#39;æ­£åœ¨ä»&#123;url&#125;ä¸‹è½½&#123;fname&#125;...&#39;)    r = requests.get(url, stream=True, verify=True)    with open(fname, &#39;wb&#39;) as f:        f.write(r.content)    return fname# ä¸‹é¢è¿˜æœ‰å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªå°†ä¸‹è½½å¹¶è§£å‹ç¼©ä¸€ä¸ªzipæˆ–taræ–‡ä»¶ï¼Œ# å¦ä¸€ä¸ªæ˜¯å°†æœ¬ä¹¦ä¸­ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®é›†ä»DATA_HUBä¸‹è½½åˆ°ç¼“å­˜ç›®å½•ä¸­ã€‚def download_extract(name, folder=None):  #@save    &quot;&quot;&quot;ä¸‹è½½å¹¶è§£å‹zip/taræ–‡ä»¶&quot;&quot;&quot;    fname = download(name)    base_dir = os.path.dirname(fname)    data_dir, ext = os.path.splitext(fname)    if ext == &#39;.zip&#39;:        fp = zipfile.ZipFile(fname, &#39;r&#39;)    elif ext in (&#39;.tar&#39;, &#39;.gz&#39;):        fp = tarfile.open(fname, &#39;r&#39;)    else:        assert False, &#39;åªæœ‰zip/taræ–‡ä»¶å¯ä»¥è¢«è§£å‹ç¼©&#39;    fp.extractall(base_dir)    return os.path.join(base_dir, folder) if folder else data_dirdef download_all():  #@save    &quot;&quot;&quot;ä¸‹è½½DATA_HUBä¸­çš„æ‰€æœ‰æ–‡ä»¶&quot;&quot;&quot;    for name in DATA_HUB:        download(name)%matplotlib inlineimport numpy as npimport pandas as pdimport torchfrom torch import nnfrom d2l import torch as d2l# ä¸‹è½½å¹¶ç¼“å­˜æ•°æ®é›†DATA_HUB[&#39;kaggle_house_train&#39;] = (  #@save    DATA_URL + &#39;kaggle_house_pred_train.csv&#39;,    &#39;585e9cc93e70b39160e7921475f9bcd7d31219ce&#39;)DATA_HUB[&#39;kaggle_house_test&#39;] = (  #@save    DATA_URL + &#39;kaggle_house_pred_test.csv&#39;,    &#39;fa19780a7b011d9b009e8bff8e99922a8ee2eb90&#39;)train_data = pd.read_csv(download(&#39;kaggle_house_train&#39;))test_data = pd.read_csv(download(&#39;kaggle_house_test&#39;))# ä¸Šè¿°æ˜¯å®Œæˆäº†æ•°æ®çš„åŠ è½½ï¼Œæ ¸å¿ƒçš„æ¨¡å‹éƒ¨åˆ†æ˜¯ä¸‹é¢# (åœ¨æ¯ä¸ªæ ·æœ¬ä¸­ï¼Œç¬¬ä¸€ä¸ªç‰¹å¾æ˜¯IDï¼Œ) è¿™æœ‰åŠ©äºæ¨¡å‹è¯†åˆ«æ¯ä¸ªè®­ç»ƒæ ·æœ¬ã€‚ è™½ç„¶è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒä¸æºå¸¦ä»»ä½•ç”¨äºé¢„æµ‹çš„ä¿¡æ¯ã€‚ å› æ­¤ï¼Œ# åœ¨å°†æ•°æ®æä¾›ç»™æ¨¡å‹ä¹‹å‰ï¼Œ(æˆ‘ä»¬å°†å…¶ä»æ•°æ®é›†ä¸­åˆ é™¤)ã€‚all_features = pd.concat((train_data.iloc[:, 1:-1], test_data.iloc[:, 1:]))# è‹¥æ— æ³•è·å¾—æµ‹è¯•æ•°æ®ï¼Œåˆ™å¯æ ¹æ®è®­ç»ƒæ•°æ®è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®numeric_features = all_features.dtypes[all_features.dtypes != &#39;object&#39;].indexall_features[numeric_features] = all_features[numeric_features].apply(    lambda x: (x - x.mean()) / (x.std()))# åœ¨æ ‡å‡†åŒ–æ•°æ®ä¹‹åï¼Œæ‰€æœ‰å‡å€¼æ¶ˆå¤±ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç¼ºå¤±å€¼è®¾ç½®ä¸º0all_features[numeric_features] = all_features[numeric_features].fillna(0)# â€œDummy_na=Trueâ€å°†â€œnaâ€ï¼ˆç¼ºå¤±å€¼ï¼‰è§†ä¸ºæœ‰æ•ˆçš„ç‰¹å¾å€¼ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºæŒ‡ç¤ºç¬¦ç‰¹å¾all_features = pd.get_dummies(all_features, dummy_na=True)  # ç¦»æ•£å€¼ä½¿ç”¨ç‹¬çƒ­ç¼–ç all_features.shape</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šå±‚æ„ŸçŸ¥æœº </tag>
            
            <tag> æˆ¿ä»·é¢„æµ‹ </tag>
            
            <tag> kaggleå®ä¾‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦(3)-å¤šå±‚æ„ŸçŸ¥æœºä¸Š</title>
      <link href="/2022/06/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-3-%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA%E4%B8%8A/"/>
      <url>/2022/06/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-3-%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA%E4%B8%8A/</url>
      
        <content type="html"><![CDATA[<p>å¤šå±‚æ„ŸçŸ¥æœºç®—æ˜¯æ·±åº¦ç¥ç»ç½‘ç»œçš„å…¥é—¨å¼€å§‹ï¼Œå‚è€ƒèµ„æ–™ï¼š<a href="https://zh.d2l.ai/chapter_multilayer-perceptrons/index.html">https://zh.d2l.ai/chapter_multilayer-perceptrons/index.html</a></p><h3 id="0ã€ä¸ç†Ÿæ‚‰çš„ä¸€äº›æ ¸å¿ƒä»£ç "><a href="#0ã€ä¸ç†Ÿæ‚‰çš„ä¸€äº›æ ¸å¿ƒä»£ç " class="headerlink" title="0ã€ä¸ç†Ÿæ‚‰çš„ä¸€äº›æ ¸å¿ƒä»£ç "></a>0ã€ä¸ç†Ÿæ‚‰çš„ä¸€äº›æ ¸å¿ƒä»£ç </h3><pre><code class="python"># æ¸…é™¤ä»¥å‰çš„æ¢¯åº¦,ä»£ç x.grad.data.zero_()# è®¾ç½®ä¸ºå¯è®­ç»ƒçš„å¯æ±‚å¯¼çš„å‚æ•°W1 = nn.Parameter(torch.randn(num_inputs, num_hiddens, requires_grad=True) * 0.01)# é€šè¿‡APIå®ç°å¤šå±‚æ„ŸçŸ¥æœºï¼Œè¿™ç®—æ˜¯æœ€ç®€å•çš„æ·±åº¦å­¦ä¹ äº†å§# å¯¼å…¥åŒ…import torchfrom torch import nnfrom d2l import torch as d2l# æ¨¡å‹net = nn.Sequential(nn.Flatten(),                    nn.Linear(784, 256),                    nn.ReLU(),                    nn.Linear(256, 10))# åˆå§‹åŒ–å‚æ•°                    def init_weights(m):    if type(m) == nn.Linear:        nn.init.normal_(m.weight, std=0.01)net.apply(init_weights)batch_size, lr, num_epochs = 256, 0.1, 10loss = nn.CrossEntropyLoss(reduction=&#39;none&#39;)trainer = torch.optim.SGD(net.parameters(), lr=lr)train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)d2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, trainer)# ä¸ºäº†åœ¨å–å¯¹æ•°æ—¶è¿›ä¸€æ­¥ç¨³å®šè¯¥å€¼ï¼Œå°†å°äº1çš„å€¼è®¾ç½®ä¸º1# torch.clamp()å°±æ˜¯æŠŠæ•°å€¼çš„åŒºé—´é™åˆ¶åœ¨ç»™å®šçš„åŒºé—´ä¹‹é—´clipped_preds = torch.clamp(net(features), 1, float(&#39;inf&#39;))# pandaså¤„ç†æ•°æ®çš„ä¸€æ®µä»£ç # è‹¥æ— æ³•è·å¾—æµ‹è¯•æ•°æ®ï¼Œåˆ™å¯æ ¹æ®è®­ç»ƒæ•°æ®è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®numeric_features = all_features.dtypes[all_features.dtypes != &#39;object&#39;].indexall_features[numeric_features] = all_features[numeric_features].apply(    lambda x: (x - x.mean()) / (x.std()))# åœ¨æ ‡å‡†åŒ–æ•°æ®ä¹‹åï¼Œæ‰€æœ‰å‡å€¼æ¶ˆå¤±ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç¼ºå¤±å€¼è®¾ç½®ä¸º0all_features[numeric_features] = all_features[numeric_features].fillna(0)</code></pre><p><code>DataFrame</code> æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„ <code>dtypes</code> å±æ€§ç”¨äºè¿”å›ä¸€ä¸ªåŒ…å«æ¯ä¸ªåˆ—çš„æ•°æ®ç±»å‹çš„åºåˆ—ï¼Œ</p><p><em>è®­ç»ƒè¯¯å·®</em>ï¼ˆtraining errorï¼‰æ˜¯æŒ‡ï¼Œ æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè®¡ç®—å¾—åˆ°çš„è¯¯å·®ã€‚ <em>æ³›åŒ–è¯¯å·®</em>ï¼ˆgeneralization errorï¼‰æ˜¯æŒ‡ï¼Œ æ¨¡å‹åº”ç”¨åœ¨åŒæ ·ä»åŸå§‹æ ·æœ¬çš„åˆ†å¸ƒä¸­æŠ½å–çš„æ— é™å¤šæ•°æ®æ ·æœ¬æ—¶ï¼Œæ¨¡å‹è¯¯å·®çš„æœŸæœ›ã€‚</p><h2 id="1ã€KæŠ˜äº¤å‰éªŒè¯"><a href="#1ã€KæŠ˜äº¤å‰éªŒè¯" class="headerlink" title="1ã€KæŠ˜äº¤å‰éªŒè¯"></a>1ã€KæŠ˜äº¤å‰éªŒè¯</h2><p>â€‹å½“è®­ç»ƒæ•°æ®ç¨€ç¼ºæ—¶ï¼Œæˆ‘ä»¬ç”šè‡³å¯èƒ½æ— æ³•æä¾›è¶³å¤Ÿçš„æ•°æ®æ¥æ„æˆä¸€ä¸ªåˆé€‚çš„éªŒè¯é›†ã€‚ è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªæµè¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨<strong>ğ¾</strong><em><strong>æŠ˜äº¤å‰éªŒè¯</strong></em>ã€‚ è¿™é‡Œï¼ŒåŸå§‹è®­ç»ƒæ•°æ®è¢«åˆ†æˆğ¾ä¸ªä¸é‡å çš„å­é›†ã€‚ ç„¶åæ‰§è¡ŒKæ¬¡æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œæ¯æ¬¡åœ¨ğ¾âˆ’1ä¸ªå­é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œ å¹¶åœ¨å‰©ä½™çš„ä¸€ä¸ªå­é›†ï¼ˆåœ¨è¯¥è½®ä¸­æ²¡æœ‰ç”¨äºè®­ç»ƒçš„å­é›†ï¼‰ä¸Šè¿›è¡ŒéªŒè¯ã€‚ æœ€åï¼Œ<strong>é€šè¿‡å¯¹ğ¾æ¬¡å®éªŒçš„ç»“æœå–å¹³å‡æ¥ä¼°è®¡è®­ç»ƒå’ŒéªŒè¯è¯¯å·®</strong>ã€‚</p><h2 id="2ã€è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"><a href="#2ã€è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ" class="headerlink" title="2ã€è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"></a>2ã€è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ</h2><p>åˆ¤æ–­ï¼š</p><p>1ã€è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®éƒ½å¾ˆä¸¥é‡ï¼Œ ä½†å®ƒä»¬ä¹‹é—´ä»…æœ‰ä¸€ç‚¹å·®è·ã€‚ å¦‚æœæ¨¡å‹ä¸èƒ½é™ä½è®­ç»ƒè¯¯å·®ï¼Œè¿™å¯èƒ½æ„å‘³ç€æ¨¡å‹è¿‡äºç®€å•ï¼Œæ¬ æ‹Ÿåˆã€‚</p><p>2ã€è®­ç»ƒè¯¯å·®æ˜æ˜¾ä½äºéªŒè¯è¯¯å·®æ—¶è¦å°å¿ƒï¼Œ è¿™è¡¨æ˜ä¸¥é‡çš„<em>è¿‡æ‹Ÿåˆ</em>ï¼ˆoverfittingï¼‰ï¼Œä½†æ˜¯æœ€å¥½çš„é¢„æµ‹æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„è¡¨ç°å¾€å¾€æ¯”åœ¨ä¿ç•™ï¼ˆéªŒè¯ï¼‰æ•°æ®ä¸Šå¥½å¾—å¤šã€‚ æœ€ç»ˆï¼Œæˆ‘ä»¬é€šå¸¸æ›´å…³å¿ƒéªŒè¯è¯¯å·®ã€‚</p><p>è§£å†³è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼š</p><p>1ã€é™åˆ¶ç‰¹å¾çš„æ•°é‡ï¼ˆä¾‹å¦‚æ‹Ÿåˆæ—¶è°ƒæ•´é˜¶æ•°ï¼‰</p><p>2ã€å‚æ•°çš„æƒé‡è¡°å‡ï¼ˆèŒƒæ•°ï¼‰ã€‚ä½¿ç”¨L2èŒƒæ•°çš„ä¸€ä¸ªåŸå› æ˜¯å®ƒå¯¹æƒé‡å‘é‡çš„å¤§åˆ†é‡æ–½åŠ äº†å·¨å¤§çš„æƒ©ç½šã€‚ è¿™ä½¿å¾—æˆ‘ä»¬çš„å­¦ä¹ ç®—æ³•åå‘äºåœ¨å¤§é‡ç‰¹å¾ä¸Šå‡åŒ€åˆ†å¸ƒæƒé‡çš„æ¨¡å‹ã€‚ åœ¨å®è·µä¸­ï¼Œè¿™å¯èƒ½ä½¿å®ƒä»¬å¯¹å•ä¸ªå˜é‡ä¸­çš„è§‚æµ‹è¯¯å·®æ›´ä¸ºç¨³å®šã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼ŒL1æƒ©ç½šä¼šå¯¼è‡´æ¨¡å‹å°†æƒé‡é›†ä¸­åœ¨ä¸€å°éƒ¨åˆ†ç‰¹å¾ä¸Šï¼Œ è€Œå°†å…¶ä»–æƒé‡æ¸…é™¤ä¸ºé›¶ã€‚ è¿™ç§°ä¸º<em>ç‰¹å¾é€‰æ‹©</em>ï¼ˆfeature selectionï¼‰ï¼Œè¿™å¯èƒ½æ˜¯å…¶ä»–åœºæ™¯ä¸‹éœ€è¦çš„ã€‚</p><p>pytorchä¸­é›†æˆäº†æƒé‡è¡°å‡çš„ä»£ç </p><p>åœ¨å®ä¾‹åŒ–ä¼˜åŒ–å™¨æ—¶ç›´æ¥é€šè¿‡<code>weight_decay</code>æŒ‡å®šweight decayè¶…å‚æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒPyTorchåŒæ—¶è¡°å‡æƒé‡å’Œåç§»ã€‚ è¿™é‡Œæˆ‘ä»¬åªä¸ºæƒé‡è®¾ç½®äº†<code>weight_decay</code>ï¼Œæ‰€ä»¥åç½®å‚æ•°ğ‘ä¸ä¼šè¡°å‡ã€‚</p><pre><code class="Plain">net = nn.Sequential(nn.Linear(num_inputs, 1))for param in net.parameters():    param.data.normal_()loss = nn.MSELoss(reduction=&#39;none&#39;)num_epochs, lr = 100, 0.003# åç½®å‚æ•°æ²¡æœ‰è¡°å‡trainer = torch.optim.SGD([    &#123;&quot;params&quot;:net[0].weight,&#39;weight_decay&#39;: wd&#125;,    &#123;&quot;params&quot;:net[0].bias&#125;], lr=lr)</code></pre><h2 id="3ã€Dropout"><a href="#3ã€Dropout" class="headerlink" title="3ã€Dropout"></a>3ã€Dropout</h2><pre><code class="Python">å®ç°dropoutçš„ä¸¤è¡Œæ ¸å¿ƒä»£ç ï¼ŒXæ˜¯è¾“å…¥çš„ç‰¹å¾mask = (torch.rand(X.shape) &gt; dropout).float()  # ç›´æ¥åœ¨æ¯ä¸€ä¸ªä½ç½®éƒ½è½¬ä¸ºäº†0æˆ–1return mask * X / (1.0 - dropout)åœ¨torchä¸­æ˜¯æœ‰é›†æˆçš„torch.nn.Dropout(0.3)</code></pre><h2 id="4ã€æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸"><a href="#4ã€æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸" class="headerlink" title="4ã€æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸"></a>4ã€æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸</h2><p>â€‹ä¸ç¨³å®šæ¢¯åº¦å¸¦æ¥çš„é£é™©ä¸æ­¢åœ¨äºæ•°å€¼è¡¨ç¤ºï¼› ä¸ç¨³å®šæ¢¯åº¦ä¹Ÿå¨èƒåˆ°æˆ‘ä»¬ä¼˜åŒ–ç®—æ³•çš„ç¨³å®šæ€§ã€‚ æˆ‘ä»¬å¯èƒ½é¢ä¸´ä¸€äº›é—®é¢˜ã€‚ è¦ä¹ˆæ˜¯<em>æ¢¯åº¦çˆ†ç‚¸</em>ï¼ˆgradient explodingï¼‰é—®é¢˜ï¼š å‚æ•°æ›´æ–°è¿‡å¤§ï¼Œç ´åäº†æ¨¡å‹çš„ç¨³å®šæ”¶æ•›ï¼› è¦ä¹ˆæ˜¯<em>æ¢¯åº¦æ¶ˆå¤±</em>ï¼ˆgradient vanishingï¼‰é—®é¢˜ï¼š å‚æ•°æ›´æ–°è¿‡å°ï¼Œåœ¨æ¯æ¬¡æ›´æ–°æ—¶å‡ ä¹ä¸ä¼šç§»åŠ¨ï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•å­¦ä¹ ã€‚</p><p>Sigmoidæ¿€æ´»å‡½æ•°ç»å¸¸ä¼šé‡åˆ°æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼Œæ‰€ä»¥ç°åœ¨é»˜è®¤é€‰æ‹© reluæ¿€æ´»å‡½æ•°</p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206152248418.png" alt="img" style="zoom:50%;" /><ul><li><p><strong>åœ¨æ¨¡å‹çš„è®­ç»ƒå’Œè®¾è®¡ä¸­è¦æ‰“ç ´å¯¹ç§°æ€§</strong>ï¼Œåœ¨å‰å‘ä¼ æ’­æœŸé—´ï¼Œä¸¤ä¸ªéšè—å•å…ƒé‡‡ç”¨ç›¸åŒçš„è¾“å…¥å’Œå‚æ•°ï¼Œ äº§ç”Ÿç›¸åŒçš„æ¿€æ´»ï¼Œè¯¥æ¿€æ´»è¢«é€åˆ°è¾“å‡ºå•å…ƒã€‚ åœ¨åå‘ä¼ æ’­æœŸé—´ï¼Œæ ¹æ®å‚æ•°ğ–(1)å¯¹è¾“å‡ºå•å…ƒè¿›è¡Œå¾®åˆ†ï¼Œ å¾—åˆ°ä¸€ä¸ªæ¢¯åº¦ï¼Œå…¶å…ƒç´ éƒ½å–ç›¸åŒçš„å€¼ã€‚ å› æ­¤ï¼Œåœ¨åŸºäºæ¢¯åº¦çš„è¿­ä»£ï¼ˆä¾‹å¦‚ï¼Œå°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ï¼‰ä¹‹åï¼Œ ğ–(1)çš„æ‰€æœ‰å…ƒç´ ä»ç„¶é‡‡ç”¨ç›¸åŒçš„å€¼ã€‚ è¿™æ ·çš„è¿­ä»£æ°¸è¿œä¸ä¼šæ‰“ç ´å¯¹ç§°æ€§ï¼Œæˆ‘ä»¬å¯èƒ½æ°¸è¿œä¹Ÿæ— æ³•å®ç°ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›ã€‚è™½ç„¶å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ä¸ä¼šæ‰“ç ´è¿™ç§å¯¹ç§°æ€§ï¼Œä½†æš‚é€€æ³•æ­£åˆ™åŒ–å¯ä»¥ã€‚</p></li><li><ul><li>è§£å†³ä¸Šè¿°é—®é¢˜æœ€é‡è¦çš„é€”å¾„å°±æ˜¯å‚æ•°åˆå§‹åŒ–ï¼š</li></ul></li></ul><p>é»˜è®¤åˆå§‹åŒ–ï¼šä¸æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œ æ¡†æ¶å°†ä½¿ç”¨é»˜è®¤çš„éšæœºåˆå§‹åŒ–æ–¹æ³•ï¼Œå¯¹äºä¸­ç­‰éš¾åº¦çš„é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•é€šå¸¸å¾ˆæœ‰æ•ˆã€‚</p><p>Xavieråˆå§‹åŒ–æ˜¯åœ¨â€œä¸å­˜åœ¨éçº¿æ€§â€çš„å‡è®¾ä¸­æ¨å¯¼å‡ºæ¥çš„ï¼Œä½†æ˜¯å®è·µä¸­çš„æ•ˆæœéå¸¸å¥½ã€‚å¯¹äºæ¯ä¸€å±‚ï¼Œè¾“å‡ºçš„æ–¹å·®ä¸å—è¾“å…¥æ•°é‡çš„å½±å“ï¼Œä»»ä½•æ¢¯åº¦çš„æ–¹å·®ä¸å—è¾“å‡ºæ•°é‡çš„å½±å“ã€‚</p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206152248441.png" alt="img"></p><p>pythonä¸­assertçš„ä½¿ç”¨ï¼š </p><pre><code class="Python">import sysassert (&#39;linux&#39; in sys.platform), &quot;è¯¥ä»£ç åªèƒ½åœ¨ Linux ä¸‹æ‰§è¡Œ&quot;# å¦‚æœassertåé¢çš„ä¸ºTrueï¼Œä¸‹é¢çš„ä»£ç æ­£å¸¸æ‰§è¡Œï¼Œå¦‚æœä¸æ˜¯ï¼Œè§¦å‘å¼‚å¸¸å¹¶æŠ›å‡º# æ¥ä¸‹æ¥è¦æ‰§è¡Œçš„ä»£ç </code></pre>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šå±‚æ„ŸçŸ¥æœº </tag>
            
            <tag> è¿‡ï¼ˆæ¬ ï¼‰æ‹Ÿåˆ </tag>
            
            <tag> æ¢¯åº¦æ¶ˆå¤±å’Œçˆ†ç‚¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦(2)-é€»è¾‘å›å½’</title>
      <link href="/2022/06/14/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-2-%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/"/>
      <url>/2022/06/14/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6-2-%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zh.d2l.ai/chapter_linear-networks/index.html">https://zh.d2l.ai/chapter_linear-networks/index.html</a></p><p>å‚è€ƒèµ„æ–™å¦‚ä¸Š</p><pre><code class="Plain">def sgd(params, lr, batch_size):  #@save  sgdçš„å…·ä½“å®ç°    &quot;&quot;&quot;å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™&quot;&quot;&quot;    # torch.no_grad() æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œè¢«è¯¥è¯­å¥ wrap èµ·æ¥çš„éƒ¨åˆ†å°†ä¸ä¼štrack æ¢¯åº¦    with torch.no_grad():          for param in params:            param -= lr * param.grad / batch_size            param.grad.zero_()# å®é™…è®­ç»ƒçš„è¿‡ç¨‹for epoch in range(num_epochs):    for X, y in data_iter(batch_size, features, labels):        l = loss(net(X, w, b), y)  # Xå’Œyçš„å°æ‰¹é‡æŸå¤±        # å› ä¸ºlå½¢çŠ¶æ˜¯(batch_size,1)ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ ‡é‡ã€‚lä¸­çš„æ‰€æœ‰å…ƒç´ è¢«åŠ åˆ°ä¸€èµ·ï¼Œ        # å¹¶ä»¥æ­¤è®¡ç®—å…³äº[w,b]çš„æ¢¯åº¦        l.sum().backward()        sgd([w, b], lr, batch_size)  # ä½¿ç”¨å‚æ•°çš„æ¢¯åº¦æ›´æ–°å‚æ•°# ä¸Šè¿°æ˜¯æ‰‹åŠ¨å®ç°çš„æ ¸å¿ƒä»£ç ï¼Œå¦‚æœé€šè¿‡torchå®ç°éå¸¸ç®€å•import numpy as npimport torchfrom torch.utils import datafrom d2l import torch as d2ltrue_w = torch.tensor([2, -3.4])true_b = 4.2features, labels = d2l.synthetic_data(true_w, true_b, 1000)def load_array(data_arrays, batch_size, is_train=True):  #@save    &quot;&quot;&quot;æ„é€ ä¸€ä¸ªPyTorchæ•°æ®è¿­ä»£å™¨&quot;&quot;&quot;    dataset = data.TensorDataset(*data_arrays)    return data.DataLoader(dataset, batch_size, shuffle=is_train)batch_size = 10data_iter = load_array((features, labels), batch_size)# nnæ˜¯ç¥ç»ç½‘ç»œçš„ç¼©å†™from torch import nnnet = nn.Sequential(nn.Linear(2, 1))# æˆ‘ä»¬é€šè¿‡`net[0]`é€‰æ‹©ç½‘ç»œä¸­çš„ç¬¬ä¸€ä¸ªå›¾å±‚ï¼Œç„¶åä½¿ç”¨`weight.data`å’Œ`bias.data`æ–¹æ³•è®¿é—®å‚æ•°ã€‚# æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›¿æ¢æ–¹æ³•`normal_`å’Œ`fill_`æ¥é‡å†™å‚æ•°å€¼ã€‚net[0].weight.data.normal_(0, 0.01),net[0].bias.data.fill_(0)loss = nn.MSELoss() # å®šä¹‰æŸå¤±å‡½æ•°trainer = torch.optim.SGD(net.parameters(), lr=0.03)# è®­ç»ƒnum_epochs = 3for epoch in range(num_epochs):    for X, y in data_iter:        l = loss(net(X) ,y)        trainer.zero_grad()        l.backward()        trainer.step()    l = loss(net(features), labels)    print(f&#39;epoch &#123;epoch + 1&#125;, loss &#123;l:f&#125;&#39;)w = net[0].weight.dataprint(&#39;wçš„ä¼°è®¡è¯¯å·®ï¼š&#39;, true_w - w.reshape(true_w.shape))b = net[0].bias.dataprint(&#39;bçš„ä¼°è®¡è¯¯å·®ï¼š&#39;, true_b - b)</code></pre><p>é€»è¾‘å›å½’ï¼Œå›¾åƒåˆ†ç±»</p><pre><code class="Python">def get_dataloader_workers():  #@save    &quot;&quot;&quot;ä½¿ç”¨4ä¸ªè¿›ç¨‹æ¥è¯»å–æ•°æ®&quot;&quot;&quot;    return 4train_iter = data.DataLoader(mnist_train, batch_size, shuffle=True,                             num_workers=get_dataloader_workers())# å‡†ç¡®ç‡æŒ‡æ ‡çš„è®¡ç®—def accuracy(y_hat, y):  #@save    &quot;&quot;&quot;è®¡ç®—é¢„æµ‹æ­£ç¡®çš„æ•°é‡&quot;&quot;&quot;    if len(y_hat.shape) &gt; 1 and y_hat.shape[1] &gt; 1:        y_hat = y_hat.argmax(axis=1)    cmp = y_hat.type(y.dtype) == y    return float(cmp.type(y.dtype).sum())# äº¤å‰ç†µçš„å®ç°def cross_entropy(y_hat, y):    return - torch.log(y_hat[range(len(y_hat)), y])  </code></pre><p>softmaxå›å½’çš„ç®€æ´ç‰ˆæœ¬å®ç°</p><pre><code class="Python">import torchfrom torch import nnfrom d2l import torch as d2lbatch_size = 256train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)# PyTorchä¸ä¼šéšå¼åœ°è°ƒæ•´è¾“å…¥çš„å½¢çŠ¶ã€‚å› æ­¤ï¼Œ# æˆ‘ä»¬åœ¨çº¿æ€§å±‚å‰å®šä¹‰äº†å±•å¹³å±‚ï¼ˆflattenï¼‰ï¼Œæ¥è°ƒæ•´ç½‘ç»œè¾“å…¥çš„å½¢çŠ¶net = nn.Sequential(nn.Flatten(), nn.Linear(784, 10))def init_weights(m):    if type(m) == nn.Linear:        nn.init.normal_(m.weight, std=0.01)net.apply(init_weights);loss = nn.CrossEntropyLoss(reduction=&#39;none&#39;)trainer = torch.optim.SGD(net.parameters(), lr=0.1)num_epochs = 10d2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, trainer)</code></pre><p>pytorchçš„ä»»ä½•ç½‘ç»œ<code>net</code>ï¼Œéƒ½æ˜¯<code>torch.nn.Module</code>çš„å­ç±»,éƒ½ç®—æ˜¯<code>module</code>ï¼Œä¹Ÿå°±æ˜¯æ¨¡å—ã€‚pytorchä¸­çš„<code>model.apply(fn)</code>ä¼šé€’å½’åœ°å°†å‡½æ•°<code>fn</code>åº”ç”¨åˆ°çˆ¶æ¨¡å—çš„æ¯ä¸ªå­æ¨¡å—<code>submodule</code>ï¼Œä¹ŸåŒ…æ‹¬<code>model</code>è¿™ä¸ªçˆ¶æ¨¡å—è‡ªèº«ã€‚</p><p>å¯¹äºnet.apply()ï¼Œå°†ä¸€ä¸ªå‡½æ•°fné€’å½’åœ°åº”ç”¨åˆ°æ¨¡å—è‡ªèº«ä»¥åŠè¯¥æ¨¡å—çš„æ¯ä¸€ä¸ªå­æ¨¡å—(å³åœ¨å‡½æ•°.children()ä¸­è¿”å›çš„å­æ¨¡å—).è¯¥æ–¹æ³•é€šå¸¸ç”¨æ¥åˆå§‹åŒ–ä¸€ä¸ªæ¨¡å‹ä¸­çš„å‚æ•°(å¦è§torch-nn-initéƒ¨åˆ†çš„å†…å®¹).</p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> é€»è¾‘å›å½’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022å¹´è€å©†ç”Ÿæ—¥å¿«ä¹</title>
      <link href="/2022/06/13/2022%E5%B9%B4%E8%80%81%E5%A9%86%E7%94%9F%E6%97%A5%E5%BF%AB%E4%B9%90/"/>
      <url>/2022/06/13/2022%E5%B9%B4%E8%80%81%E5%A9%86%E7%94%9F%E6%97%A5%E5%BF%AB%E4%B9%90/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¥æˆ‘äº²çˆ±çš„è€å©†ç”Ÿæ—¥å¿«ä¹"><a href="#ç¥æˆ‘äº²çˆ±çš„è€å©†ç”Ÿæ—¥å¿«ä¹" class="headerlink" title="ç¥æˆ‘äº²çˆ±çš„è€å©†ç”Ÿæ—¥å¿«ä¹"></a>ç¥æˆ‘äº²çˆ±çš„è€å©†ç”Ÿæ—¥å¿«ä¹</h2><p>ä½ æ˜¯æˆ‘é¥æœ›çš„ä¸€é¢—æ˜Ÿæ˜Ÿ</p><p>ç¹æ˜Ÿæš—æ·¡ åªæœ›è§ä½ </p><p>ä¸çŸ¥æ‰€ä»¥ æ›´æƒ³ä½ </p><p>æƒ³ç•™ä½ä½  æƒ³æ‹¥æŠ±ä½ </p><p>æ“¦äº®é“¶æ²³ ç…§äº®ä½ </p><pre><code>ç­‰æˆ‘å»æ‰¾ä½ å“¦ï¼Œä¸€èµ·è¿‡ä¸€ä¸ªå¿«å¿«ä¹ä¹çš„ç”Ÿæ—¥ï¼</code></pre><p>  <img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206132215420.png" alt="æˆ‘æœ€ç¾"> </p> <img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206132215199.png" alt="æˆ‘æœ€å¯çˆ±" style="zoom: 80%;" /><p> <img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/202206132216651.png" alt="ä¸€ç›´å¹¸ç¦å“¦"> </p>]]></content>
      
      
      <categories>
          
          <category> Love </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è€å©†ç”Ÿæ—¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ èŠ±ä¹¦-é¢„å¤‡çŸ¥è¯†</title>
      <link href="/2022/06/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6Day1-%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/"/>
      <url>/2022/06/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%8A%B1%E4%B9%A6Day1-%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="0ã€å†™åœ¨æœ€å‰é¢"><a href="#0ã€å†™åœ¨æœ€å‰é¢" class="headerlink" title="0ã€å†™åœ¨æœ€å‰é¢"></a>0ã€å†™åœ¨æœ€å‰é¢</h2><p>â€‹è®¡åˆ’é‡æ–°å­¦ä¹ ä¸€ä¸‹æ·±åº¦å­¦ä¹ è¿™æœ¬ä¹¦çš„å†…å®¹ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ææ²è€å¸ˆç¿»è¯‘çš„éƒ¨åˆ†ï¼Œå¼€æºåœ¨ç½‘ç«™ä¸­ï¼Œå¯ä»¥è§æ–‡æœ«ï¼Œè®¡åˆ’ä¸€ä¸ªæœˆå†…å­¦å®Œï¼Œå¹¶ä¸”æŠŠä¸ç†Ÿæ‚‰çš„éƒ¨åˆ†æ•´ç†ä¸€ä¸‹ï¼Œå› ä¸ºä¹‹å‰ä¹Ÿæ˜¯æœ‰äº›åŸºç¡€çš„ï¼Œæ­¤æ•™ç¨‹æ˜¯æˆ‘åœ¨é—²æš‡æ—¶é—´æŸ¥æ¼è¡¥ç¼ºçš„å†…å®¹ï¼Œä¸ªäººä¸»è§‚æ€§è¾ƒå¼ºï¼Œä½†æ˜¯å­¦ä¹ è·¯çº¿å¾ˆæ˜ç¡®ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·å­¦ä¹ ~</p><h2 id="1ã€pandas"><a href="#1ã€pandas" class="headerlink" title="1ã€pandas"></a>1ã€pandas</h2><pre><code class="Python"># pandasæŒ‰ç…§ä½ç½®è¯»å–å’Œç¼ºå¤±å€¼çš„å¤„ç†# data.iloc[]  ä¸­æ‹¬å·ï¼Œ fillna ç¼ºå¤±å€¼çš„å¡«å……inputs, outputs = data.iloc[:, 0:2], data.iloc[:, 2]inputs = inputs.fillna(inputs.mean())inputs = pd.get_dummies(inputs, dummy_na=True)    # get_dummiesæ˜¯è‡ªåŠ¨å°†æ–‡å­—å‹è½¬åŒ–ä¸ºæ•°å€¼å‹x.shape    # æ²¡æœ‰æ‹¬å·ï¼Œå¼ é‡çš„å½¢çŠ¶A = torch.arange(20, dtype=torch.float32).reshape(5, 4)B = A.clone()  # é€šè¿‡åˆ†é…æ–°å†…å­˜ï¼Œå°†Açš„ä¸€ä¸ªå‰¯æœ¬åˆ†é…ç»™B2+A   #å°†å¼ é‡ä¹˜ä»¥æˆ–åŠ ä¸Šä¸€ä¸ªæ ‡é‡ä¸ä¼šæ”¹å˜å¼ é‡çš„å½¢çŠ¶ï¼Œå…¶ä¸­å¼ é‡çš„æ¯ä¸ªå…ƒç´ éƒ½å°†ä¸æ ‡é‡ç›¸åŠ æˆ–ç›¸ä¹˜# åœ¨tensorä¸­ï¼Œæ˜¯é¢å‘å¯¹è±¡æ¥è¿›è¡Œæœ€å¤§æœ€å°å€¼çš„æ±‚è§£çš„A.sum()sum_A = A.sum(axis=1, keepdims=True) #åœ¨è°ƒç”¨å‡½æ•°æ¥[è®¡ç®—æ€»å’Œæˆ–å‡å€¼æ—¶ä¿æŒè½´æ•°ä¸å˜]ä¼šå¾ˆæœ‰ç”¨# axis=0çš„æ—¶å€™ä¸€èˆ¬æ˜¯æ²¿ç€å‘ä¸‹çš„æ–¹æ³•ï¼Œaxis=1çš„æ—¶å€™æ²¿ç€æ¨ªè½´çš„æ–¹æ³•# çŸ©é˜µçš„å‘é‡ç§¯A.shape, x.shape, torch.mv(A, x) # (torch.Size([5, 4]), torch.Size([4]), tensor([ 12.,  44.,  76., 108., 140.]))# çŸ©é˜µçš„ä¹˜æ³•torch.mm(A, B)# torchæ±‚äºŒèŒƒæ•°å’Œä¸€èŒƒæ•°torch.norm(u),torch.abs(u).sum()</code></pre><h2 id="å¾®ç§¯åˆ†"><a href="#å¾®ç§¯åˆ†" class="headerlink" title="å¾®ç§¯åˆ†"></a>å¾®ç§¯åˆ†</h2><pre><code class="Python"># è‡ªåŠ¨æ±‚å¯¼æ±‚æ¢¯åº¦çš„ä¾‹å­import torchx = torch.arange(4.0)x.requires_grad_(True)# ç­‰ä»·äºx=torch.arange(4.0,requires_grad=True)x.grad  # é»˜è®¤å€¼æ˜¯Noney = 2 * torch.dot(x, x)y.backward()x.grad    # tensor([ 0.,  4.,  8., 12.])   x.grad == 4 * x   # tensor([True, True, True, True])# åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒPyTorchä¼šç´¯ç§¯æ¢¯åº¦ï¼Œæˆ‘ä»¬éœ€è¦æ¸…é™¤ä¹‹å‰çš„å€¼x.grad.zero_()y = x.sum()y.backward()x.gradx.grad_zero() #tensor([0., 1., 2., 3.], requires_grad=True)  æ¸…ç†äº†æ¢¯åº¦ï¼Œå›åˆ°ä¹‹å‰</code></pre><h2 id="æ¦‚ç‡åŠé‡‡æ ·"><a href="#æ¦‚ç‡åŠé‡‡æ ·" class="headerlink" title="æ¦‚ç‡åŠé‡‡æ ·"></a>æ¦‚ç‡åŠé‡‡æ ·</h2><pre><code class="Python">from torch.distributions import multinomialfair_probs = torch.ones([6]) / 6# å°†ç»“æœå­˜å‚¨ä¸º32ä½æµ®ç‚¹æ•°ä»¥è¿›è¡Œé™¤æ³•counts = multinomial.Multinomial(1000, fair_probs).sample() #å®ƒåœ¨ç´¢å¼•ğ‘–iå¤„çš„å€¼æ˜¯é‡‡æ ·ç»“æœä¸­ğ‘–iå‡ºç°çš„æ¬¡æ•°counts / 1000  # ç›¸å¯¹é¢‘ç‡ä½œä¸ºä¼°è®¡å€¼# ä¸Šè¿°å°±æ˜¯æŒ‰ç…§fair_probsçš„æ¦‚ç‡æ¨¡æ‹ŸæŠ½æ ·import torchprint(dir(torch.distributions))# æŸ¥çœ‹torchä¸­distributionsé‡Œé¢å†…ç½®çš„å‡½æ•°help(torch.ones)    # æŸ¥çœ‹å…·ä½“çš„ç”¨æ³•</code></pre><h2 id="ç¬”è®°å‡ºå¤„â€”å®Œæ•´æ•™ç¨‹"><a href="#ç¬”è®°å‡ºå¤„â€”å®Œæ•´æ•™ç¨‹" class="headerlink" title="ç¬”è®°å‡ºå¤„â€”å®Œæ•´æ•™ç¨‹"></a>ç¬”è®°å‡ºå¤„â€”å®Œæ•´æ•™ç¨‹</h2><p><a href="https://zh.d2l.ai/chapter_preliminaries/index.html">https://zh.d2l.ai/chapter_preliminaries/index.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> é¢„å¤‡çŸ¥è¯† </tag>
            
            <tag> å¾®ç§¯åˆ† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoå†™åšå®¢ä¸­ä¼šé‡åˆ°çš„é—®é¢˜ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
      <link href="/2022/06/12/Hexo%E5%86%99%E5%8D%9A%E5%AE%A2%E4%B8%AD%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/"/>
      <url>/2022/06/12/Hexo%E5%86%99%E5%8D%9A%E5%AE%A2%E4%B8%AD%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€ç™½å«–é£ä¹¦çš„å›¾åºŠ"><a href="#1ã€ç™½å«–é£ä¹¦çš„å›¾åºŠ" class="headerlink" title="1ã€ç™½å«–é£ä¹¦çš„å›¾åºŠ"></a>1ã€ç™½å«–é£ä¹¦çš„å›¾åºŠ</h2><p>â€‹å› ä¸ºå­¦æ ¡ä¸€ç›´ç”¨é£ä¹¦ï¼Œä¹‹å‰ç»å¸¸åœ¨é£ä¹¦äº‘æ–‡æ¡£è®°ç¬”è®°ï¼Œæˆ‘å‘ç°åœ¨é£ä¹¦äº‘æ–‡æ¡£ä¸Šä¼ ç…§ç‰‡çš„æ—¶å€™ï¼Œç›´æ¥å¤åˆ¶åˆ°.mdæ–‡ä»¶ä¸­å¤åˆ¶è¿‡æ¥çš„å±…ç„¶æ˜¯å›¾åºŠçš„é“¾æ¥ï¼Œé‚£è¿™æ ·åªè¦é£ä¹¦çš„æ–‡ä»¶ä¸åˆ é™¤ï¼Œå°±å¯ä»¥ä¸€ç›´ç™½å«–äº†ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚</p><p>â€‹è¿‡äº†ä¸€å¤©ä¹‹åå‘ç°é£ä¹¦å¾—åˆ°å›¾åºŠå±…ç„¶æ˜¯åŠ¨æ€æ›´æ–°çš„ï¼Œç¬¬äºŒå¤©å°±ç”¨ä¸äº†äº†ï¼Œæ— è¯­å•Šã€‚åæ¥æˆ‘åˆæ”¹æˆäº†Githubçš„ä»“åº“åšå›¾åºŠã€‚</p><p>â€‹ä¸‹è½½PicGoè½¯ä»¶ï¼Œæ‰¾åˆ°å›¾åºŠè®¾ç½®ï¼Œé€‰æ‹©Githubçš„å›¾åºŠå°±è¡Œã€‚</p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/image-20220612233642481.png" alt="image-20220612233642481" style="zoom:50%;" /><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/image-20220612233822432.png" alt="image-20220612233822432" style="zoom: 25%;" /><p>åœ¨typoraçš„åå¥½è®¾ç½®ä¸­ä¹Ÿé€‰æ‹©ï¼Œè¿™æ ·ä»¥åç›´æ¥å¤åˆ¶åˆ°typoraä¸­çš„ç…§ç‰‡å°±å¯ä»¥ï¼Œä¸ç”¨ç®¡åˆ«çš„äº†ã€‚</p><p>â€‹ä½†æ˜¯è€ƒè™‘åˆ°GitHubçš„å­˜å‚¨ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œåªæœ‰1ä¸ªGï¼Œä¹‹åå°±æ²¡äº†ï¼Œåæ¥å‘ç°äº† åˆæ‹äº‘ è¿™ä¸ªç½‘ç«™ï¼Œå°±åœ¨æˆ‘çš„é¦–é¡µæœ‰è·³è½¬é“¾æ¥ï¼Œç›´æ¥ç™¾åº¦æœç´¢å°±è¡Œï¼Œæ¯”è¾ƒå®¹æ˜“ã€‚</p><p>â€‹åˆæ‹äº‘æœ‰ä¸€ä¸ªæ´»åŠ¨ï¼Œæ¯å¹´å…è´¹é€ä¸€æ¬¡ç©ºé—´å’Œæµé‡ï¼Œåªéœ€è¦åœ¨ç½‘ç«™çš„ä¸»é¡µä¸Šæ”¾ä¸Šä»–çš„å¹¿å‘Šå³å¯ã€‚</p><p><a href="https://www.upyun.com/league">https://www.upyun.com/league</a>     è¿›å…¥æ­¤ç½‘ç«™ï¼ŒæŒ‰ç…§æ•™ç¨‹ç”³è¯·å³å¯ã€‚</p><img src="http://liyuqi-image.test.upcdn.net/202206131927395.png" alt="image-20220613192711265" style="zoom:25%;" /> <h2 id="2ã€æŠ¥é”™é—®é¢˜-SSHè¿æ¥çš„443"><a href="#2ã€æŠ¥é”™é—®é¢˜-SSHè¿æ¥çš„443" class="headerlink" title="2ã€æŠ¥é”™é—®é¢˜ SSHè¿æ¥çš„443"></a>2ã€æŠ¥é”™é—®é¢˜ SSHè¿æ¥çš„443</h2><p>â€‹å†™å¥½äº†åšå®¢ä¸Šä¼ çš„æ—¶å€™æ€»æ˜¯ä¼šå‡ºç°è¿æ¥è¶…æ—¶ port 443ï¼š Timed outå’ŒOpenSSLé”™è¯¯çš„é—®é¢˜ï¼Œæ•™ç¨‹çš„å¾ˆå¤šæ–¹æ³•éƒ½ä¸å¤ªå¥½ï¼Œç›´æ¥æ”¹æ‰æ ¹ç›®å½•é…ç½®æ–‡ä»¶_config.ymlçš„deployè¿™éƒ¨åˆ†ã€‚</p><pre><code>deploy:  type: git  repository: git@github.com:YOURNAME.github.io.git # æŠŠhttpsçš„åè®®æ¢æˆgitçš„ï¼Œå¯ä»¥å»ä»“åº“çœ‹  branch: main</code></pre>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†™ä½œ </tag>
            
            <tag> é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-GitHubé…ç½®ä¸ªäººç½‘ç«™</title>
      <link href="/2022/06/12/Hexo-GitHub%E9%85%8D%E7%BD%AE%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/"/>
      <url>/2022/06/12/Hexo-GitHub%E9%85%8D%E7%BD%AE%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV1mU4y1j72n?spm_id_from=333.999.0.0">ã€2021æœ€æ–°ç‰ˆã€‘ä¿å§†çº§Hexo+githubæ­å»ºä¸ªäººåšå®¢_å“”å“©å“”å“©_bilibili</a></p><p>æ¯”ç€è§†é¢‘æ¥ä¸€éï¼Œéå¸¸ç®€å•ï¼Œè§†é¢‘å¤§çº¦30minï¼Œå®æ“1å°æ—¶å°±okï¼Œæ•´ä¸ªæ•™ç¨‹éƒ½éå¸¸é¡ºåˆ©ï¼Œæ²¡æœ‰ä»»ä½•bugã€‚</p><h2 id="1ã€å·¥å…·çš„å®‰è£…"><a href="#1ã€å·¥å…·çš„å®‰è£…" class="headerlink" title="1ã€å·¥å…·çš„å®‰è£…"></a>1ã€å·¥å…·çš„å®‰è£…</h2><p>éœ€è¦å®‰è£… <a href="https://www.cnblogs.com/zhouyu2017/p/6485265.html">Node.jså®‰è£…åŠç¯å¢ƒé…ç½®ä¹‹Windowsç¯‡ - å‘¨ç‘œå‘¨ - åšå®¢å›­</a>ï¼ŒæŠŠè¿™äº›å·¥å…·éƒ½å®‰è£…æˆæœä¹‹åæŸ¥çœ‹æ˜¯å¦okã€‚</p><p>node -v</p><p>npm -v</p><p>git â€“version</p><p>hexo -v</p><h2 id="2ã€åˆ›å»ºè‡ªå·±çš„Githubä»“åº“"><a href="#2ã€åˆ›å»ºè‡ªå·±çš„Githubä»“åº“" class="headerlink" title="2ã€åˆ›å»ºè‡ªå·±çš„Githubä»“åº“"></a>2ã€åˆ›å»ºè‡ªå·±çš„Githubä»“åº“</h2><p>åœ¨åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠä»“åº“å‘½åä¸º<a href="https://github.com/LIyvqi/LIyvqi.github.io">LIyvqi.github.i</a>o  LIyvqiæ˜¯æˆ‘çš„githubç”¨æˆ·åã€‚</p><h2 id="3ã€ç”ŸæˆSSHçš„å¯†é’¥å¹¶ç»‘å®š"><a href="#3ã€ç”ŸæˆSSHçš„å¯†é’¥å¹¶ç»‘å®š" class="headerlink" title="3ã€ç”ŸæˆSSHçš„å¯†é’¥å¹¶ç»‘å®š"></a>3ã€ç”ŸæˆSSHçš„å¯†é’¥å¹¶ç»‘å®š</h2><p>ä¸€èˆ¬æ­£å¸¸ç”¨GitHubçš„ç”µè„‘éƒ½æ²¡é—®é¢˜ï¼Œå“ˆå“ˆå“ˆï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ã€‚</p><p>åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰“å¼€gitbashï¼Œå‘½ä»¤è¡Œä¸­è¾“å…¥ ssh:ssh-keygen -t rsa -C â€œé‚®ç®±åœ°å€â€</p><p>.sshç”Ÿæˆè·¯å¾„ï¼šC:\Users\è‡ªå·±çš„ç”¨æˆ·å.ssh</p><p><strong>å¯ä»¥ä¸Šæ¥å°±ç›´æ¥æµ‹è¯•ã€‚</strong></p><p>æµ‹å®šsshæ˜¯å¦ç»‘å®šæˆåŠŸï¼šssh -T <a href="mailto:&#x67;&#x69;&#x74;&#64;&#103;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#109;">&#x67;&#x69;&#x74;&#64;&#103;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#109;</a></p><p>å¦‚æœä¸€ç›´å‡ºç°ssh: connect to host github.com port 22: Connection refusedçš„è¯å…·ä½“çœ‹è¿™ä¸ªæ•™ç¨‹<a href="https://www.cnblogs.com/Archer314/p/14641310.html">https://www.cnblogs.com/Archer314/p/14641310.html</a> </p><h2 id="4ã€åˆå§‹åŒ–åšå®¢"><a href="#4ã€åˆå§‹åŒ–åšå®¢" class="headerlink" title="4ã€åˆå§‹åŒ–åšå®¢"></a>4ã€åˆå§‹åŒ–åšå®¢</h2><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé€‰æ‹©åˆé€‚çš„ä½ç½®ï¼Œè¿™å°±æ˜¯ä½ æ—¥åå†™åšå®¢çš„æœ¬åœ°æ–‡ä»¶äº†ï¼Œè¿›å…¥è¿™ä¸ªæ–‡ä»¶åï¼Œæ‰“å¼€gitbashï¼Œè¾“å…¥å‘½ä»¤è¡Œï¼š</p><p>hexo init      #åˆå§‹åŒ–hexoåšå®¢</p><p>å¦‚æœæŠ¥é”™SyntaxError: Unexpected token â€¦</p><p>å»ºè®®æ›´æ–°ä¸€ä¸‹node.jsç‰ˆæœ¬</p><p>hexo s    #é™æ€ç”Ÿæˆ</p><h2 id="5ã€æŠŠæœ¬åœ°çš„åšå®¢ä¼ åˆ°githubä¸Šï¼Œå°±å¯ä»¥ç›´æ¥å½“ä½œç½‘ç«™æ‰“å¼€äº†"><a href="#5ã€æŠŠæœ¬åœ°çš„åšå®¢ä¼ åˆ°githubä¸Šï¼Œå°±å¯ä»¥ç›´æ¥å½“ä½œç½‘ç«™æ‰“å¼€äº†" class="headerlink" title="5ã€æŠŠæœ¬åœ°çš„åšå®¢ä¼ åˆ°githubä¸Šï¼Œå°±å¯ä»¥ç›´æ¥å½“ä½œç½‘ç«™æ‰“å¼€äº†"></a>5ã€æŠŠæœ¬åœ°çš„åšå®¢ä¼ åˆ°githubä¸Šï¼Œå°±å¯ä»¥ç›´æ¥å½“ä½œç½‘ç«™æ‰“å¼€äº†</h2><p>é…ç½®æ–‡ä»¶ä¿®æ”¹(_config.yml)ï¼Œå°±åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹</p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/image-20220612233348720.png" alt="image-20220612233348720"></p><p>ï¼ˆï¼šåé¢æœ‰ä¸ªç©ºæ ¼ï¼‰</p><p>deploy:</p><p> type: git</p><p> repository: <a href="https://github.com/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97/%E4%BB%93%E5%BA%93%E7%9A%84%E5%90%8D%E5%AD%97.git">https://github.com/ä½ çš„åå­—/ä»“åº“çš„åå­—.git</a></p><p> branch: åˆ†æ”¯</p><p>ä¹‹ååœ¨gitbashå‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šnpm install hexo-deployer-git â€“save</p><p>è¿™æ ·å°±å®‰è£…å¥½äº†hexo-deployer-gitè‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·ã€‚</p><p>ä¸Šè¿°å°±æ˜¯ä½¿ç”¨hexoæ­å»ºä¸€ä¸ªä¸ªäººåšå®¢çš„æ•™ç¨‹ï¼Œè‡ªå®šä¹‰åŸŸåè¿˜è¦èŠ±é’±ä¹°ï¼Œæˆ‘ä»¬ç™½å«–äº†å“¦ï¼Œå°±ç”¨è¿™ä¸ªå§ï¼Œå¯ä»¥åœ¨ç½‘ç»œä¸Šè®¿é—®ï¼Œç›´æ¥è¾“å…¥ <a href="https://liyvqi.github.io/">https://liyvqi.github.io/</a> </p><h2 id="6ã€æ›´æ¢ä¸»é¢˜"><a href="#6ã€æ›´æ¢ä¸»é¢˜" class="headerlink" title="6ã€æ›´æ¢ä¸»é¢˜"></a>6ã€æ›´æ¢ä¸»é¢˜</h2><p>åœ¨ä¸Šé¢æ–°å»ºçš„é‚£ä¸ªwebæ–‡ä»¶å¤¹ä¸‹ï¼Œgit bashå¤åˆ¶å‘½ä»¤è¡Œä¸‹è½½æ–°çš„ä¸»é¢˜ä»¥åŠæ›´æ–°å³å¯ã€‚</p><p><img src="https://raw.githubusercontent.com/LIyvqi/FigOfWeb/main/image-20220612233434657.png" alt="image-20220612233434657"></p><p>ä¹‹åæŠŠ_config.ymlä¸­çš„themeæ¢æˆ3-hexo</p><p>å†ä¹‹åé€‰æ‹©æ›´æ–°ï¼š</p><pre><code class="Plain">cd themes/3-hexogit pull</code></pre><p>è¿”å›åˆ°MyWebç›®å½•ä¹‹åï¼Œè¾“å…¥   hexo serveræŸ¥çœ‹æœ¬åœ°çš„ä¸»é¢˜æ˜¯å¦å·²ç»æ¢äº†ã€‚</p><p>å¦‚æœé…ç½®äº†Githubä¹‹åï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æäº¤ä¿®æ”¹åçš„ä¸»é¢˜åšå®¢ã€‚</p><pre><code class="Plain">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></pre><p>æˆ‘åšçš„æ—¶å€™å‡ºçº¿äº†æœ¬åœ°ä¸»é¢˜æ¢äº†ï¼Œä½†æ˜¯GitHubä¸Šæ²¡æœ‰ï¼Œæœ‰å»¶è¿Ÿçš„é—®é¢˜ï¼Œç­‰ä¸€ä¼šå„¿å°±å¥½äº†ã€‚</p><h2 id="7ã€ç½‘ç«™å†…å®¹ä¿®æ”¹"><a href="#7ã€ç½‘ç«™å†…å®¹ä¿®æ”¹" class="headerlink" title="7ã€ç½‘ç«™å†…å®¹ä¿®æ”¹"></a>7ã€ç½‘ç«™å†…å®¹ä¿®æ”¹</h2><p>æ›´æ¢äº†ä¸»é¢˜ä¹‹åï¼Œè¿™ä¸ªç½‘ç«™çš„æ ¼å¼å†…å®¹ä»€ä¹ˆçš„ï¼Œéƒ½æ˜¯åœ¨ä¸‹é¢è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹</p><p>D:\MyBlog\MyWeb\themes\3-hexo</p><p>ä¸€äº›ç»†èŠ‚ä»€ä¹ˆçš„ï¼Œå¯ä»¥å…ˆæ”¹_config.yml   é‡Œé¢çš„æ³¨é‡Šæ¯”è¾ƒé½å…¨ï¼Œå¯ä»¥æ”¹æˆè‡ªå·±çš„äº†ã€‚</p><h2 id="8ã€å‘æ–‡ç« å’Œåˆ é™¤æ–‡ç« "><a href="#8ã€å‘æ–‡ç« å’Œåˆ é™¤æ–‡ç« " class="headerlink" title="8ã€å‘æ–‡ç« å’Œåˆ é™¤æ–‡ç« "></a>8ã€å‘æ–‡ç« å’Œåˆ é™¤æ–‡ç« </h2><pre><code class="Plain">hexo new &quot;æ–‡ç« å&quot;æ‰¾åˆ°é‚£ä¸ª.mdæ–‡ä»¶å¼€å§‹å†™æ–‡ç« ï¼Œå†™å®Œäº†ä¹‹åï¼Œå¯ä»¥hexo sæœ¬åœ°æŸ¥çœ‹ï¼Œä¹‹åç›´æ¥æ‰§è¡Œä¸‹é¢å‘½ä»¤æäº¤å°±è¡Œã€‚hexo d# åˆ é™¤çš„æ—¶å€™ï¼Œåœ¨æ–‡ä»¶å¤¹é‡Œé¢åˆ äº†ï¼Œä¹‹åæ‰§è¡Œhexo d</code></pre><h2 id="9ã€ä¿®æ”¹åšå®¢çš„æŠ¥é”™é—®é¢˜"><a href="#9ã€ä¿®æ”¹åšå®¢çš„æŠ¥é”™é—®é¢˜" class="headerlink" title="9ã€ä¿®æ”¹åšå®¢çš„æŠ¥é”™é—®é¢˜"></a>9ã€ä¿®æ”¹åšå®¢çš„æŠ¥é”™é—®é¢˜</h2><p>ä¸€èˆ¬æ›´æ”¹çš„æ—¶å€™é™¤äº†æ”¹åšå®¢ï¼Œè¿˜æ”¹ä¸€äº›åˆ«çš„ï¼Œè¿™æ—¶å€™ä¼šæŠ¥é”™ï¼ˆspawn failedï¼‰ï¼Œæ˜¯å› ä¸ºgitæˆ–è€…hexo dçš„æ—¶å€™æ”¹å˜äº†ä¸€äº›.deploy_gitæ–‡ä»¶ä¸‹çš„å†…å®¹ï¼Œæœ€ç®€å•ç²—æš´çš„åŠæ³•å°±æ˜¯åˆ äº†é‡æ¥ã€‚</p><pre><code class="Plain">åˆ é™¤.deploy_gitæ–‡ä»¶å¤¹;è¾“å…¥git config --global core.autocrlf falseç„¶åï¼Œä¾æ¬¡æ‰§è¡Œï¼šhexo cleanhexo ghexo d</code></pre><h2 id="æœ€åçš„è¿›é˜¶"><a href="#æœ€åçš„è¿›é˜¶" class="headerlink" title="æœ€åçš„è¿›é˜¶"></a>æœ€åçš„è¿›é˜¶</h2><p><a href="http://yearito.cn/posts/hexo-writing-skills.html#Sublime-Text-3">http://yearito.cn/posts/hexo-writing-skills.html#Sublime-Text-3</a></p><p>å†™ä½œçš„æ•™ç¨‹ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> å»ºç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World(ä½œè€…è‡ªå¸¦çš„ï¼Œæ„Ÿè°¢ä½œè€…ï¼Œå°±ä¸åˆ å•¦)</title>
      <link href="/2022/06/12/hello-world/"/>
      <url>/2022/06/12/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
